

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>EIGRP &mdash; docu patrick a documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="OSPF" href="ospf.html" />
    <link rel="prev" title="Dynamic Routing" href="dynamic_routing.html" />
    <link href="../../../_static/mylayout.css" rel="stylesheet" type="text/css">

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> docu patrick
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../diagrams.html">Diagrams in Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cumulocity.html">cumulocity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../server.html">debian server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workstation.html">workstation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vim.html">VIM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../git.html">GIT</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../inhoud.html">Routing/Switching</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../basics/inhoud.html">basics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="inhoud.html">scaling networks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lan_design.html">LAN design</a></li>
<li class="toctree-l3"><a class="reference internal" href="scaling_vlans.html">Scaling VLANs</a></li>
<li class="toctree-l3"><a class="reference internal" href="stp.html">Spanning Tree Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="la_hsrp.html">Etherchannel - Hot Standby Routing Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="dynamic_routing.html">Dynamic Routing</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">EIGRP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ad-values-table">AD Values table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#features-of-eigrp">Features of EIGRP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-protocol-dependent-modules-pdms">EIGRP Protocol-Dependent Modules PDMs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reliable-transport-protocol">Reliable Transport Protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="#authentication">Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#packet-types">Packet Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#feasibility-condition">Feasibility Condition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-msg-encapsulation">EIGRP msg Encapsulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-packet-header">EIGRP Packet Header</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-tlv-encoding-format">EIGRP TLV Encoding Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-generic-tlv-definitions">EIGRP Generic TLV Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-tlv-internal-routes">EIGRP TLV Internal routes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-tlv-external-routes">EIGRP TLV External routes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#autonomous-systems">Autonomous Systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-router-id">EIGRP Router ID</a></li>
<li class="toctree-l4"><a class="reference internal" href="#passive-interface">Passive Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#show-ip-eigrp-neighbors-command">show ip eigrp neighbors command</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-administrative-distances">Default Administrative Distances</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exchanging-routing-updates">Exchanging Routing Updates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updating-the-routing-table-ipv4">Updating the Routing Table IPv4</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interface-delay-values">Interface Delay Values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-calculate-metric">EIGRP Calculate Metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bandwidth-configuration">Bandwidth configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dual-concepts">DUAL Concepts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#topology-table">Topology Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dual-finite-state-machine">DUAL Finite State Machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comparing-eigrp-for-ipv4-and-ipv6">Comparing EIGRP for IPv4 and IPv6</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-ipv6-link-local-addresses">EIGRP IPv6 Link-Local addresses</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-ipv6-configuration">EIGRP IPv6 configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuring-ipv6-link-locals">Configuring IPv6 Link-Locals</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-ipv6-routing-process">EIGRP IPv6 Routing Process</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enabling-eigrp-for-ipv6-if">Enabling EIGRP for IPv6 IF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ipv6-nb-table">IPv6 NB Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-ipv6-routing-table">EIGRP IPv6 Routing Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigrp-for-ipv6-lab-demo">EIGRP for IPv6 lab demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary-route-null0-if">Summary Route Null0 IF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#summarization-routing-loops">Summarization Routing Loops</a></li>
<li class="toctree-l4"><a class="reference internal" href="#propagating-a-default-route">propagating a default route</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-routes-ipv6">default routes ipv6</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tuning-bandwidth">tuning bandwidth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tuning-hello-n-hold-timers">tuning hello n hold timers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#load-balancing">load balancing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exercise-example-for-ipv4-no1">exercise example for ipv4 No1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commands">Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-router-config-example">default router config example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quiz">Quiz</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ospf.html">OSPF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sdn/inhoud.html">Open Daylight</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">docu patrick</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../inhoud.html">Routing/Switching</a> &raquo;</li>
        
          <li><a href="inhoud.html">scaling networks</a> &raquo;</li>
        
      <li>EIGRP</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/nw/rns/sn/eigrp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="eigrp">
<h1>EIGRP<a class="headerlink" href="#eigrp" title="Permalink to this headline">¶</a></h1>
<div class="section" id="ad-values-table">
<h2>AD Values table<a class="headerlink" href="#ad-values-table" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/Administrative-Distance.png" src="../../../_images/Administrative-Distance.png" />
<p>RFC link <a class="reference external" href="https://www.rfc-editor.org/rfc/rfc7868.txt">https://www.rfc-editor.org/rfc/rfc7868.txt</a></p>
<p>In Cisco IOS Release 15.0(1)M, Cisco introduced a new EIGRP configuration option called named EIGRP. Named EIGRP enables the configuration of EIGRP for both IPv4 and IPv6 under a single configuration mode. This helps eliminate configuration complexity that occurs when configuring EIGRP for both IPv4 and IPv6. Named EIGRP is beyond the scope of this course.</p>
<p>EIGRP was designed as a network layer independent routing protocol. Because of this design, EIGRP cannot use the services of UDP or TCP. Instead, EIGRP uses the <code class="docutils literal notranslate"><span class="pre">Reliable</span> <span class="pre">Transport</span> <span class="pre">Protocol</span> <span class="pre">(RTP)</span></code> for the delivery and reception of EIGRP packets</p>
<table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Neighbor Table</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Topology Table</td>
</tr>
<tr class="row-odd"><td>Routing Table</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="features-of-eigrp">
<h2>Features of EIGRP<a class="headerlink" href="#features-of-eigrp" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt>Diffusing Update Algorithm</dt>
<dd>As the computational engine that drives EIGRP, the Diffusing Update Algorithm (DUAL) resides at the center of the routing protocol.
DUAL guarantees loop-free and backup paths throughout the routing domain.
Using DUAL, EIGRP stores all available backup routes for destinations so that it can quickly adapt to alternate routes when necessary.</dd>
<dt>Establishing Neighbor Adjacencies</dt>
<dd>EIGRP establishes relationships with directly connected routers that are also enabled for EIGRP.
Neighbor adjacencies are used to track the status of these neighbors.</dd>
<dt>Reliable Transport Protocol</dt>
<dd>The Reliable Transport Protocol (RTP) is unique to EIGRP and provides delivery of EIGRP packets to neighbors.
RTP and the tracking of neighbor adjacencies set the stage for DUAL.</dd>
<dt>Partial and Bounded Updates</dt>
<dd>EIGRP uses the terms partial and bounded when referring to its updates.
Unlike RIP, EIGRP does not send periodic updates and route entries do not age out.
The term partial means that the update only includes information about the route changes, such as a new link or a link becoming unavailable.
The term bounded refers to the propagation of partial updates that are sent only to those routers that the changes affect. This minimizes the bandwidth that is required to send EIGRP updates.</dd>
<dt>Equal and Unequal Cost Load Balancing</dt>
<dd>EIGRP supports equal cost load balancing and unequal cost load balancing, which allows administrators to better distribute traffic flow in their networks.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="eigrp-protocol-dependent-modules-pdms">
<h2>EIGRP Protocol-Dependent Modules PDMs<a class="headerlink" href="#eigrp-protocol-dependent-modules-pdms" title="Permalink to this headline">¶</a></h2>
<p>EIGRP asks DUAL to make routing decisions, but the results are stored in the IPv4 routing table.</p>
<p>PDMs are responsible for the specific routing tasks for each network layer protocol, including:</p>
<blockquote>
<div><ul class="simple">
<li>Maintaining the neighbor and topology tables of EIGRP routers that belong to that protocol suite</li>
<li>Building and translating protocol-specific packets for DUAL</li>
<li>Interfacing DUAL to the protocol-specific routing table</li>
<li>Computing the metric and passing this information to DUAL</li>
<li>Implementing filtering and access lists</li>
<li>Performing redistribution functions to and from other routing protocols</li>
<li>Redistributing routes that are learned by other routing protocols</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="reliable-transport-protocol">
<h2>Reliable Transport Protocol<a class="headerlink" href="#reliable-transport-protocol" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Replaces TCP/UDP as EIGRP is protocol independant</li>
<li>RTP can send EIGRP packets as unicast or multicast</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="33%" />
<col width="41%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">ipv4</th>
<th class="head">ipv6</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>mc adres</td>
<td>224.0.0.10</td>
<td>FF02::A</td>
</tr>
<tr class="row-odd"><td>IP field</td>
<td>protocol 88</td>
<td>next header 88</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>The IPv4 protocol field uses 88 to indicate the data portion of the packet is an EIGRP for IPv4 message.</li>
<li>EIGRP for IPv6 messages are encapsulated in IPv6 packets using the next header field of 88. Similar to the protocol field for IPv4, the IPv6 next header field indicates the type of data carried in the IPv6 packet.</li>
</ul>
<p>an EIGRP update packet is sent reliably over RTP and requires an acknowledgment. An EIGRP Hello packet is also sent over RTP, but unreliably. This means that EIGRP Hello packets do not require an acknowledgment.</p>
</div>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>EIGRP like RIPv2, OSPF, IS-IS and BGP can be cfgd to authenticate their routing information.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Authentication does not encrypt the EIGRP routing updates</p>
</div>
</div>
<div class="section" id="packet-types">
<h2>Packet Types<a class="headerlink" href="#packet-types" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="60%" />
<col width="10%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">used to</th>
<th class="head">reliable</th>
<th class="head">UC/MC</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Hello</td>
<td>NB discovery and maintain NB adjacencies</td>
<td>no</td>
<td>multicast</td>
</tr>
<tr class="row-odd"><td>Update</td>
<td>Propagates routing info to EIGRP NBs</td>
<td>yes</td>
<td>both</td>
</tr>
<tr class="row-even"><td>Acknowledgement</td>
<td>acknowledge receipt of EIGRP message</td>
<td>no</td>
<td>unicast</td>
</tr>
<tr class="row-odd"><td>Query</td>
<td>request specific route info from NB router
- sent to NBs when DUAL places route in Active State</td>
<td>yes</td>
<td>both</td>
</tr>
<tr class="row-even"><td>Reply</td>
<td>Sent in response to an EIGRP query
- Used to give DUAL information about the destination NW</td>
<td>yes</td>
<td>unicast</td>
</tr>
</tbody>
</table>
<p>HA(ha) = unreliable
AR(ar) = unicast
QU(quq) = both</p>
<div class="section" id="hello-packets">
<h3>Hello packets<a class="headerlink" href="#hello-packets" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="41%" />
<col width="21%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">BW</th>
<th class="head">Link</th>
<th class="head">default hello</th>
<th class="head">default hold</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1.544 Mb/s</td>
<td>NBMA, Multipoint Frame Relay</td>
<td>60 seconds</td>
<td>180 seconds</td>
</tr>
<tr class="row-odd"><td>&gt; 1.544 Mb/s</td>
<td>T1, Ethernet</td>
<td>5 seconds</td>
<td>15 seconds</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">NBMA networks using slower interfaces include legacy X.25, Frame Relay, and Asynchronous Transfer Mode (ATM)</p>
</div>
<ul class="simple">
<li>discover neighbors and establish adjacencies with neighbor routers using the Hello packet.</li>
<li>Hello packets to maintain established adjacencies. An EIGRP router assumes that as long as it receives Hello packets from a neighbor, the neighbor and its routes remain viable.</li>
<li>Hold timer to determine the maximum time the router should wait to receive the next Hello before declaring that neighbor as unreachable.</li>
</ul>
</div>
<div class="section" id="update-packets">
<h3>Update packets<a class="headerlink" href="#update-packets" title="Permalink to this headline">¶</a></h3>
<p>UPDATE packets carry the DUAL UPDATE message type and are used to convey information about destinations and the reachability of those destinations.  When a new neighbor is discovered, unicast UPDATE packets are used to transmit a full table to the new neighbor, so the neighbor can build up its topology table.  In normal operation (other than neighbor startup such as a link cost changes), UPDATE packets are multicast.  UPDATE packets are always transmitted reliably.  Each TLV destination will be processed individually through the DUAL FSM.</p>
<p>EIGRP sends Update packets to propagate routing information. Update packets are sent only when necessary. EIGRP updates contain only the routing information needed and are sent only to those routers that require it.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unlike the older distance vector routing protocol RIP, EIGRP does not send periodic updates and route entries do not age out. Instead, EIGRP sends incremental updates only when the state of a destination changes. This may include when a new network becomes available, an existing network becomes unavailable, or a change occurs in the routing metric for an existing network.</p>
</div>
<p>EIGRP uses the terms <code class="docutils literal notranslate"><span class="pre">partial</span> <span class="pre">update</span> <span class="pre">and</span> <span class="pre">bounded</span> <span class="pre">update</span></code> when referring to its updates.</p>
<blockquote>
<div><ul class="simple">
<li>A partial update means that the update only includes information about route changes.</li>
<li>A bounded update refers to the sending of partial updates only to the routers that are affected by the changes. Bounded updates help EIGRP minimize the bandwidth that is required to send EIGRP updates.</li>
</ul>
</div></blockquote>
<p>EIGRP Update packets use reliable delivery, which means <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">sending</span> <span class="pre">router</span> <span class="pre">requires</span> <span class="pre">an</span> <span class="pre">acknowledgment</span></code>. Update packets are sent as a multicast when required by multiple routers, or as a unicast when required by only a single router. In the figure, the updates are sent as unicasts because the links are point-to-point.</p>
</div>
<div class="section" id="acknowledge-packets">
<h3>acknowledge packets<a class="headerlink" href="#acknowledge-packets" title="Permalink to this headline">¶</a></h3>
<p>EIGRP sends Acknowledgment (ACK) packets when reliable delivery is used.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">An EIGRP acknowledgment is an EIGRP Hello packet without any data.RTP uses reliable delivery for Update, Query, and Reply packets. EIGRP Acknowledgment packets are always sent as an unreliable unicast. Unreliable delivery makes sense; otherwise, there would be an endless loop of acknowledgments.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some documentation refers to the Hello and acknowledgment as a single type of EIGRP packet.</p>
</div>
</div>
<div class="section" id="query-packets">
<h3>Query packets<a class="headerlink" href="#query-packets" title="Permalink to this headline">¶</a></h3>
<p>DUAL uses Query and Reply packets when searching for networks and other tasks. Queries and replies use reliable delivery. <code class="docutils literal notranslate"><span class="pre">Queries</span> <span class="pre">can</span> <span class="pre">use</span> <span class="pre">multicast</span> <span class="pre">or</span> <span class="pre">unicast,</span> <span class="pre">whereas</span> <span class="pre">replies</span> <span class="pre">are</span> <span class="pre">always</span> <span class="pre">sent</span> <span class="pre">as</span> <span class="pre">unicast</span></code>.</p>
<p>A QUERY packet carries the DUAL QUERY message type and is sent by a router to advertise that a route is in ACTIVE state and the originator is requesting alternate path information from its neighbors.  An infinite metric is encoded by setting the delay part of the metric to its maximum value.</p>
<p>If there is a topology change that causes multiple destinations to be marked ACTIVE, EIGRP will build one or more QUERY packets for all destinations present.  The state of each route is recorded individually, so a responding QUERY or REPLY need not contain all the same destinations in a single packet.  Since EIGRP uses a reliable transport mechanism, route QUERY packets are also guaranteed be reliably delivered.</p>
<p>When a QUERY packet is received, each destination will trigger a DUAL event, and the state machine will run individually for each route. Once the entire original QUERY packet is processed, then a REPLY or SIA-REPLY will be sent with the latest information.</p>
</div>
<div class="section" id="reply-packets">
<h3>Reply packets<a class="headerlink" href="#reply-packets" title="Permalink to this headline">¶</a></h3>
<p>All neighbors must send a reply, regardless of whether or not they have a route to the downed network. Because replies also use reliable delivery, routers, such as R2, must send an acknowledgment.</p>
</div>
</div>
<div class="section" id="feasibility-condition">
<h2>Feasibility Condition<a class="headerlink" href="#feasibility-condition" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>The Feasibility Condition is used as an integral part of DUAL operation:</dt>
<dd>every path selection in DUAL is subject to the Feasibility Condition check.  Based on the result of the Feasibility Condition check after a topology change is detected, the route may either remain PASSIVE (if, after the topology change, the neighbor providing the least cost path meets the Feasibility Condition) or it needs to enter the ACTIVE state (if the topology change resulted in none of the neighbors providing the least cost path to meet the Feasibility Condition).</dd>
</dl>
<p>The Feasibility Condition is a part of DUAL that allows the diffused computation to terminate as early as possible.
Nodes that are not affected by the topology change are not required to perform a DUAL computation and may not be aware a topology change occurred.
This can occur in two cases:</p>
<blockquote>
<div><ul class="simple">
<li>First, if informed about a topology change, a router may keep a route in PASSIVE state if it is aware of other paths that are downstream towards the destination (routes meeting the Feasibility Condition).
A route that meets the Feasibility Condition is determined to be loop free and downstream along the path between the router and the destination.</li>
<li>Second, if informed about a topology change for which it does not currently have reachability information, a router is not required to enter into the ACTIVE state, nor is it required to participate in the DUAL process.</li>
</ul>
</div></blockquote>
<p>In order to facilitate describing the Feasibility Condition, a few definitions are in order.</p>
<blockquote>
<div><ul class="simple">
<li>A successor for a given route is the next hop used to forward data traffic for a destination.  Typically, the successor is chosen based on the least-cost path to reach the destination.</li>
<li>A Feasible Successor is a neighbor that meets the Feasibility Condition.  A Feasible Successor is regarded as a downstream neighbor towards the destination, but it may not be the least-cost path but could still be used for forwarding data packets in the event equal or unequal cost load sharing was active.
A Feasible Successor can become a successor when the current successor becomes unreachable.</li>
<li>The Feasibility Condition is met when a neighbor’s advertised cost, (RD) to a destination is less than the FD for that destination, or in other words, the Feasibility Condition is met when the neighbor is closer to the destination than the router itself has ever been since the destination has entered the PASSIVE state for the last time.</li>
<li>The FD is the lowest distance to the destination since the last time the route went from ACTIVE to PASSIVE state.
It should be noted it is not necessarily the current best distance; rather, it is a historical record of the best distance known since the last diffusing computation for the destination has finished.
Thus, the value of the FD can either be the same as the current best distance, or it can be lower.</li>
</ul>
</div></blockquote>
<p>A neighbor that advertises a route with a cost that does not meet the Feasibility Condition may be upstream and thus cannot be guaranteed to be the next hop for a loop-free path.  Routes advertised by upstream neighbors are not recorded in the routing table but saved in the topology table.</p>
</div>
<div class="section" id="eigrp-msg-encapsulation">
<h2>EIGRP msg Encapsulation<a class="headerlink" href="#eigrp-msg-encapsulation" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>The Data portion of an EIGRP msg is encapsulated in a packet. The data field is called Type Length Value (TLV)</dt>
<dd><ul class="first last simple">
<li>EIGRP parameters</li>
<li>IP internal routes</li>
<li>IP external routes</li>
</ul>
</dd>
<dt>EIGRP packet header + TLV =&gt; encapsulated in IP packet</dt>
<dd><ul class="first last simple">
<li>IP Source Address (of sending NIC)</li>
<li>IP Destination Address = MC 224.0.0.10 or FF02::A</li>
<li>Protocol field 88 for EIGRP or Next Header Field 88</li>
</ul>
</dd>
<dt>The Data Link Frame</dt>
<dd><ul class="first last simple">
<li>MAC Source Address (sending NIC)</li>
<li>MAC = MC <code class="docutils literal notranslate"><span class="pre">01-00-5E-00-00-0A</span></code></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="eigrp-packet-header">
<h2>EIGRP Packet Header<a class="headerlink" href="#eigrp-packet-header" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span><span class="mi">0</span>                   <span class="mi">1</span>                   <span class="mi">2</span>                   <span class="mi">3</span>  <span class="o">|</span>
<span class="o">|</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span><span class="n">Header</span> <span class="n">Version</span> <span class="o">|</span> <span class="n">Opcode</span>        <span class="o">|</span>           <span class="n">Checksum</span>            <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>                             <span class="n">Flags</span>                             <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>                        <span class="n">Sequence</span> <span class="n">Number</span>                        <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>                     <span class="n">Acknowledgment</span> <span class="n">Number</span>                     <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span> <span class="n">Virtual</span> <span class="n">Router</span> <span class="n">ID</span>             <span class="o">|</span>   <span class="n">Autonomous</span> <span class="n">System</span> <span class="n">Number</span>    <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
</pre></div>
</div>
<p>Header Version: EIGRP Packet Header Format version.  Current Version is 2.  This field is not the same as the TLV Version field.</p>
<div class="section" id="opcodes">
<h3>Opcodes<a class="headerlink" href="#opcodes" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Opcode</span><span class="p">:</span> <span class="n">Indicates</span> <span class="n">the</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">the</span> <span class="n">message</span><span class="o">.</span> <span class="n">It</span> <span class="n">will</span> <span class="n">be</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">values</span><span class="p">:</span>
   <span class="n">EIGRP_OPC_UPDATE</span>              <span class="mi">1</span>
   <span class="n">EIGRP_OPC_REQUEST</span>             <span class="mi">2</span>
   <span class="n">EIGRP_OPC_QUERY</span>               <span class="mi">3</span>
   <span class="n">EIGRP_OPC_REPLY</span>               <span class="mi">4</span>
   <span class="n">EIGRP_OPC_HELLO</span>               <span class="mi">5</span>
   <span class="n">Reserved</span>                      <span class="mi">6</span>      <span class="p">(</span><span class="n">EIGRP_OPC_IPXSAP</span><span class="p">)</span>
   <span class="n">Reserved</span>                      <span class="mi">7</span>      <span class="p">(</span><span class="n">EIGRP_OPC_PROBE</span><span class="p">)</span>
   <span class="n">Reserved</span>                      <span class="mi">8</span>      <span class="p">(</span><span class="n">EIGRP_OPC_ACK</span><span class="p">)</span>
   <span class="n">Reserved</span>                      <span class="mi">9</span>
   <span class="n">EIGRP_OPC_SIAQUERY</span>           <span class="mi">10</span>
   <span class="n">EIGRP_OPC_SIAREPLY</span>           <span class="mi">11</span>
</pre></div>
</div>
</div>
<div class="section" id="checksum">
<h3>Checksum<a class="headerlink" href="#checksum" title="Permalink to this headline">¶</a></h3>
<p>Each packet will include a checksum for the entire contents of the packet. The checksum will be the standard ones’ complement of the ones’ complement sum.  For purposes of computing the checksum, the value of the checksum field is zero. The packet is discarded if the packet checksum fails.</p>
</div>
<div class="section" id="flags">
<h3>Flags<a class="headerlink" href="#flags" title="Permalink to this headline">¶</a></h3>
<p>Defines special handling of the packet. There are currently four defined flag bits.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># INIT-Flag (0x01): This bit is set in the initial UPDATE sent to a newly discovered neighbor. It instructs the neighbor to advertise its full set of routes.</span>

<span class="c1"># CR-Flag (0x02): This bit indicates that receivers should only accept the packet if they are in Conditionally Received mode.</span>
  <span class="n">A</span> <span class="n">router</span> <span class="n">enters</span> <span class="n">Conditionally</span> <span class="n">Received</span> <span class="n">mode</span> <span class="n">when</span> <span class="n">it</span> <span class="n">receives</span> <span class="ow">and</span> <span class="n">processes</span> <span class="n">a</span> <span class="n">HELLO</span> <span class="n">packet</span> <span class="k">with</span> <span class="n">a</span> <span class="n">SEQUENCE</span> <span class="n">TLV</span> <span class="n">present</span><span class="o">.</span>

<span class="c1"># RS-Flag (0x04): The Restart flag is set in the HELLO and the UPDATE packets during the restart period.</span>
  <span class="n">The</span> <span class="n">router</span> <span class="n">looks</span> <span class="n">at</span> <span class="n">the</span> <span class="n">RS</span><span class="o">-</span><span class="n">Flag</span> <span class="n">to</span> <span class="n">detect</span> <span class="k">if</span> <span class="n">a</span> <span class="n">neighbor</span> <span class="ow">is</span> <span class="n">restarting</span><span class="o">.</span>  <span class="n">From</span> <span class="n">the</span> <span class="n">restarting</span> <span class="n">routers</span> <span class="n">perspective</span><span class="p">,</span>
  <span class="k">if</span> <span class="n">a</span> <span class="n">neighboring</span> <span class="n">router</span> <span class="n">detects</span> <span class="n">the</span> <span class="n">RS</span><span class="o">-</span><span class="n">Flag</span> <span class="nb">set</span><span class="p">,</span> <span class="n">it</span> <span class="n">will</span> <span class="n">maintain</span> <span class="n">the</span> <span class="n">adjacency</span><span class="p">,</span> <span class="ow">and</span> <span class="n">will</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">RS</span><span class="o">-</span><span class="n">Flag</span> <span class="ow">in</span> <span class="n">its</span> <span class="n">UPDATE</span> <span class="n">packet</span> <span class="n">to</span> <span class="n">indicated</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">doing</span> <span class="n">a</span> <span class="n">soft</span> <span class="n">restart</span><span class="o">.</span>

<span class="c1"># EOT-Flag (0x08): The End-of-Table flag marks the end of the startup process with a neighbor.  If the flag is set, it indicates the neighbor has completed sending all UPDATEs.</span>
  <span class="n">At</span> <span class="n">this</span> <span class="n">point</span><span class="p">,</span> <span class="n">the</span> <span class="n">router</span> <span class="n">will</span> <span class="n">remove</span> <span class="nb">any</span> <span class="n">stale</span> <span class="n">routes</span> <span class="n">learned</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">neighbor</span> <span class="n">prior</span> <span class="n">to</span> <span class="n">the</span> <span class="n">restart</span> <span class="n">event</span><span class="o">.</span>
  <span class="n">A</span> <span class="n">stale</span> <span class="n">route</span> <span class="ow">is</span> <span class="nb">any</span> <span class="n">route</span> <span class="n">that</span> <span class="n">existed</span> <span class="n">before</span> <span class="n">the</span> <span class="n">restart</span> <span class="ow">and</span> <span class="n">was</span> <span class="ow">not</span> <span class="n">refreshed</span> <span class="n">by</span> <span class="n">the</span> <span class="n">neighbor</span> <span class="n">via</span> <span class="ow">and</span> <span class="n">UPDATE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="sequence-number">
<h3>Sequence Number<a class="headerlink" href="#sequence-number" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Each packet that is transmitted will have a 32-bit sequence number that is unique with respect to a sending router.</dt>
<dd>A value of 0 means that an acknowledgment is not required.</dd>
</dl>
</div>
<div class="section" id="acknowledgment-number">
<h3>Acknowledgment Number<a class="headerlink" href="#acknowledgment-number" title="Permalink to this headline">¶</a></h3>
<p>The 32-bit sequence number that is being acknowledged with respect to the receiver of the packet.  If the value is 0, there is no acknowledgment present.
A non-zero value can only be present in unicast-addressed packets.
.. note:: A HELLO packet with a non-zero ACK field should be decoded as an ACK packet rather than a HELLO packet.</p>
</div>
<div class="section" id="virtual-router-identifier-vrid">
<h3>Virtual Router Identifier (VRID)<a class="headerlink" href="#virtual-router-identifier-vrid" title="Permalink to this headline">¶</a></h3>
<p>A 16-bit number that identifies the virtual router with which this packet is associated. Packets received with an unknown, or unsupported, value will be discarded.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Value</span> <span class="n">Range</span>       <span class="n">Usage</span>
  <span class="mh">0x0000</span>            <span class="n">Unicast</span> <span class="n">Address</span> <span class="n">Family</span>
  <span class="mh">0x0001</span>            <span class="n">Multicast</span> <span class="n">Address</span> <span class="n">Family</span>
  <span class="mh">0x0002</span><span class="o">-</span><span class="mh">0x7FFF</span>     <span class="n">Reserved</span>
  <span class="mh">0x8000</span>            <span class="n">Unicast</span> <span class="n">Service</span> <span class="n">Family</span>
  <span class="mh">0x8001</span><span class="o">-</span><span class="mh">0xFFFF</span>     <span class="n">Reserved</span>
</pre></div>
</div>
</div>
<div class="section" id="autonomous-system-number">
<h3>Autonomous System Number<a class="headerlink" href="#autonomous-system-number" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>16-bit unsigned number of the sending system. This field is indirectly used as an authentication value.</dt>
<dd>That is, a router that receives and accepts a packet from a
neighbor must have the same AS number or the packet is ignored.
The range of valid AS numbers is 1 through 65,535.</dd>
</dl>
</div>
</div>
<div class="section" id="eigrp-tlv-encoding-format">
<h2>EIGRP TLV Encoding Format<a class="headerlink" href="#eigrp-tlv-encoding-format" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The contents of each packet can contain a variable number of fields.
Each field will be tagged and include a length field.  This allows
for newer versions of software to add capabilities and coexist with
old versions of software in the same configuration.  Fields that are
tagged and not recognized can be skipped over.  Another advantage of
this encoding scheme is that it allows multiple network-layer
protocols to carry independent information.  Therefore, if it is
later decided to implement a single “integrated” protocol, this can
be done.</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="nb">format</span> <span class="n">of</span> <span class="n">a</span> <span class="p">{</span><span class="nb">type</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">value</span><span class="p">}</span> <span class="p">(</span><span class="n">TLV</span><span class="p">)</span> <span class="ow">is</span> <span class="n">encoded</span> <span class="k">as</span> <span class="n">follows</span><span class="p">:</span>

 <span class="mi">0</span>                   <span class="mi">1</span>                   <span class="mi">2</span>                   <span class="mi">3</span>
 <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span> <span class="n">Type</span> <span class="n">high</span>     <span class="o">|</span> <span class="n">Type</span> <span class="n">low</span>      <span class="o">|</span>            <span class="n">Length</span>             <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>                    <span class="n">Value</span> <span class="p">(</span><span class="n">variable</span> <span class="n">length</span><span class="p">)</span>                    <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
</pre></div>
</div>
<p>The type values are the ones defined below. The length value specifies the length in octets of the type, length, and value fields.
TLVs can appear in a packet in any order, and there are no interdependencies among them.</p>
<p>Malformed TLVs contained in EIGRP messages are handled by silently discarding the containing message.
A TLV is malformed if the TLV Length is invalid or if the TLV extends beyond the end of the containing message.</p>
<div class="section" id="type-field-encoding">
<h3>Type Field Encoding<a class="headerlink" href="#type-field-encoding" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="nb">type</span> <span class="n">field</span> <span class="ow">is</span> <span class="n">structured</span> <span class="k">as</span> <span class="n">follows</span><span class="p">:</span> <span class="n">Type</span> <span class="n">High</span><span class="p">:</span> <span class="mi">1</span> <span class="n">octet</span> <span class="n">that</span>
<span class="n">defines</span> <span class="n">the</span> <span class="n">protocol</span> <span class="n">classification</span><span class="p">:</span>

         <span class="n">Protocol</span>            <span class="n">ID</span>   <span class="n">VERSION</span>
         <span class="n">General</span>            <span class="mh">0x00</span>    <span class="mf">1.2</span>
         <span class="n">IPv4</span>               <span class="mh">0x01</span>    <span class="mf">1.2</span>
         <span class="n">IPv6</span>               <span class="mh">0x04</span>    <span class="mf">1.2</span>
         <span class="n">SAF</span>                <span class="mh">0x05</span>    <span class="mf">3.0</span>
         <span class="n">Multiprotocol</span>      <span class="mh">0x06</span>    <span class="mf">2.0</span>

<span class="n">Type</span> <span class="n">Low</span><span class="p">:</span> <span class="mi">1</span> <span class="n">octet</span> <span class="n">that</span> <span class="n">defines</span> <span class="n">the</span> <span class="n">TLV</span> <span class="n">Opcode</span><span class="p">;</span> <span class="n">see</span> <span class="n">TLV</span> <span class="n">Definitions</span> <span class="ow">in</span>
   <span class="n">Section</span> <span class="mf">3.</span>
</pre></div>
</div>
</div>
<div class="section" id="length-field-encoding">
<h3>Length Field Encoding<a class="headerlink" href="#length-field-encoding" title="Permalink to this headline">¶</a></h3>
<p>The Length field is a 2-octet unsigned number, which indicates the length of the TLV. The value includes the Type and Length fields.</p>
</div>
<div class="section" id="value-field-encoding">
<h3>Value Field Encoding<a class="headerlink" href="#value-field-encoding" title="Permalink to this headline">¶</a></h3>
<p>The Value field is a multi-octet field containing the payload for the TLV.</p>
</div>
</div>
<div class="section" id="eigrp-generic-tlv-definitions">
<h2>EIGRP Generic TLV Definitions<a class="headerlink" href="#eigrp-generic-tlv-definitions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                             <span class="n">Ver</span> <span class="mf">1.2</span>   <span class="n">Ver</span> <span class="mf">2.0</span>
<span class="n">PARAMETER_TYPE</span>                <span class="mh">0x0001</span>    <span class="mh">0x0001</span>
<span class="n">AUTHENTICATION_TYPE</span>           <span class="mh">0x0002</span>    <span class="mh">0x0002</span>
<span class="n">SEQUENCE_TYPE</span>                 <span class="mh">0x0003</span>    <span class="mh">0x0003</span>
<span class="n">SOFTWARE_VERSION_TYPE</span>         <span class="mh">0x0004</span>    <span class="mh">0x0004</span>
<span class="n">MULTICAST_SEQUENCE_TYPE</span>       <span class="mh">0x0005</span>    <span class="mh">0x0005</span>
<span class="n">PEER_INFORMATION_TYPE</span>         <span class="mh">0x0006</span>    <span class="mh">0x0006</span>
<span class="n">PEER_TERMINATION_TYPE</span>         <span class="mh">0x0007</span>    <span class="mh">0x0007</span>
<span class="n">PEER_TID_LIST_TYPE</span>             <span class="o">---</span>      <span class="mh">0x0008</span>
</pre></div>
</div>
<div class="section" id="x0001-parameter-type">
<h3>0x0001 - PARAMETER_TYPE<a class="headerlink" href="#x0001-parameter-type" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>This TLV is used in HELLO packets to convey the EIGRP metric coefficient values:</dt>
<dd><ul class="first last simple">
<li>noted as <code class="docutils literal notranslate"><span class="pre">K-values</span> <span class="pre">as</span> <span class="pre">well</span> <span class="pre">as</span> <span class="pre">the</span> <span class="pre">Hold</span> <span class="pre">Time</span></code> values.</li>
<li>This TLV is also used in an initial UPDATE packet when a neighbor is discovered.</li>
</ul>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mi">0</span>                   <span class="mi">1</span>                   <span class="mi">2</span>                   <span class="mi">3</span>
 <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>            <span class="mh">0x0001</span>             <span class="o">|</span>            <span class="mh">0x000C</span>             <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>       <span class="n">K1</span>      <span class="o">|</span>       <span class="n">K2</span>      <span class="o">|</span>       <span class="n">K3</span>      <span class="o">|</span>       <span class="n">K4</span>      <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>       <span class="n">K5</span>      <span class="o">|</span>       <span class="n">K6</span>      <span class="o">|</span>           <span class="n">Hold</span> <span class="n">Time</span>           <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
</pre></div>
</div>
<p>K-values: The K-values associated with the EIGRP composite metric equation.
The default values for weights are:</p>
<blockquote>
<div><ul class="simple">
<li>K1 - 1</li>
<li>K2 - 0</li>
<li>K3 - 1</li>
<li>K4 - 0</li>
<li>K5 - 0</li>
<li>K6 - 0</li>
</ul>
</div></blockquote>
<p>Hold Time: The amount of time in seconds that a receiving router should consider the sending neighbor valid.A valid neighbor is one that is able to forward packets and participates in EIGRP.  A router that considers a neighbor valid will store all routing information advertised by the neighbor.</p>
</div>
<div class="section" id="x0002-authentication-type">
<h3>0x0002 - AUTHENTICATION_TYPE<a class="headerlink" href="#x0002-authentication-type" title="Permalink to this headline">¶</a></h3>
<p>This TLV may be used in any EIGRP packet and conveys the authentication type and data used. Routers receiving a mismatch in authentication shall discard the packet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mi">0</span>                   <span class="mi">1</span>                   <span class="mi">2</span>                   <span class="mi">3</span>
 <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>             <span class="mh">0x0002</span>            <span class="o">|</span>            <span class="n">Length</span>             <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>   <span class="n">Auth</span> <span class="n">Type</span>    <span class="o">|</span> <span class="n">Auth</span> <span class="n">Length</span>  <span class="o">|</span>      <span class="n">Auth</span> <span class="n">Data</span> <span class="p">(</span><span class="n">Variable</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
</pre></div>
</div>
<ul class="simple">
<li>Authentication Type: The type of authentication used.</li>
<li>Authentication Length: The length, measured in octets, of the individual authentication.</li>
<li>Authentication Data: Variable-length field reflected by “Auth Length”, which is dependent on the type of authentication used.
Multiple authentication types can be present in a single AUTHENTICATION_TYPE TLV.</li>
</ul>
</div>
<div class="section" id="x02-md5-authentication-type">
<h3>0x02 - MD5 Authentication Type<a class="headerlink" href="#x02-md5-authentication-type" title="Permalink to this headline">¶</a></h3>
<p>MD5 Authentication will use Auth Type code 0x02, and the Auth Data will be the MD5 Hash value.</p>
</div>
<div class="section" id="x03-sha2-authentication-type">
<h3>0x03 - SHA2 Authentication Type<a class="headerlink" href="#x03-sha2-authentication-type" title="Permalink to this headline">¶</a></h3>
<p>SHA2-256 Authentication will use Type code 0x03, and the Auth Data will be the 256-bit SHA2 [6] Hash value.</p>
</div>
<div class="section" id="x0003-sequence-type">
<h3>0x0003 - SEQUENCE_TYPE<a class="headerlink" href="#x0003-sequence-type" title="Permalink to this headline">¶</a></h3>
<p>This TLV is used for a sender to tell receivers to not accept packets with the CR-Flag set. This is used to order multicast and unicast addressed packets.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span><span class="mi">0</span>                   <span class="mi">1</span>                   <span class="mi">2</span>                   <span class="mi">3</span>
<span class="o">|</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>            <span class="mh">0x0003</span>             <span class="o">|</span>            <span class="n">Length</span>             <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span><span class="n">Address</span> <span class="n">Length</span> <span class="o">|</span>                 <span class="n">Protocol</span> <span class="n">Address</span>              <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
</pre></div>
</div>
<p>The Address Length and Protocol Address will be repeated one or more times based on the Length field.</p>
<blockquote>
<div><ul class="simple">
<li>Address Length:
Number of octets for the address that follows. For IPv4, the value is 4.  For IPv6, it is 16.  For AppleTalk, the value is 4; for Novell IPX, the value is 10 (both are no longer in use).</li>
<li>Protocol Address:
Neighbor address on interface in which the HELLO with SEQUENCE TLV is sent.  Each address listed in the HELLO packet is a neighbor that should not enter Conditionally Received mode.</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="eigrp-tlv-internal-routes">
<h2>EIGRP TLV Internal routes<a class="headerlink" href="#eigrp-tlv-internal-routes" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_TLV_IPinternalRoutels.png" src="../../../_images/6_eigrp_TLV_IPinternalRoutels.png" />
<ul class="simple">
<li><strong>Delay</strong>:         Sum of delays in units of 10 microseconds from source to destination; 0xFFFFFFFF indicates unreachable route</li>
<li><strong>Bandwidth</strong>:     Lowest configured bandwidth of any interface along the route</li>
<li><strong>Prefix Length</strong>: Specifies the number of network bits in the subnet mask</li>
<li><strong>Destination</strong>:   The destination network address; this field is variable</li>
</ul>
<p>The IP internal message is used to advertise EIGRP routes within an autonomous system. Important fields include the metric fields (delay and bandwidth), the subnet mask field (prefix length), and the destination field.</p>
<p>Delay is calculated as the sum of delays from source to destination in units of 10 microseconds. Bandwidth is the lowest configured bandwidth of any interface along the route.</p>
<p>The subnet mask is specified as the prefix length or the number of network bits in the subnet mask. For example, the prefix length for the subnet mask 255.255.255.0 is 24, because 24 is the number of network bits.</p>
<p>The Destination field stores the address of the destination network. Although only 24 bits are shown in this figure, this field varies based on the value of the network portion of the 32-bit network address. For example, the network portion of 10.1.0.0/16 is 10.1; therefore, the Destination field stores the first 16 bits. Because the minimum length of this field is 24 bits, the remainder of the field is padded with zeros. If a network address is longer than 24 bits (192.168.1.32/27, for example), then the Destination field is extended for another 32 bits (for a total of 56 bits) and the unused bits are padded with zeros.</p>
</div>
<div class="section" id="eigrp-tlv-external-routes">
<h2>EIGRP TLV External routes<a class="headerlink" href="#eigrp-tlv-external-routes" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_TLV_IPexternalRoutels.png" src="../../../_images/6_eigrp_TLV_IPexternalRoutels.png" />
<p>The IP external message is used <strong>when external routes are imported</strong> into the EIGRP routing process. In this chapter, we will import or redistribute a default static route into EIGRP. Notice that the bottom half of the IP External Routes TLV includes all the fields used by the IP Internal TLV.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The maximum transmission unit (MTU) is not a metric used by EIGRP. The MTU is included in the routing updates, but it is not used to determine the routing metric.</p>
</div>
</div>
<div class="section" id="autonomous-systems">
<h2>Autonomous Systems<a class="headerlink" href="#autonomous-systems" title="Permalink to this headline">¶</a></h2>
<p>The autonomous system number used for EIGRP configuration is only significant to the EIGRP routing domain. It functions as a process ID to help routers keep track of multiple running instances of EIGRP. This is required because it is possible to have more than one instance of EIGRP running on a network. Each instance of EIGRP can be configured to support and exchange routing updates for different networks.</p>
<p>All routers within the EIGRP routing domain must use the same autonomous system number.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">EIGRP and OSPF can support multiple instances of the routing protocol. However, this multiple routing protocol implementation is not usually needed or recommended.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">router</span> <span class="pre">eigrp</span> <span class="pre">autonomous-system</span></code> command does not start the EIGRP process itself. The router does not start sending updates. Rather, this command only provides access to configure the EIGRP settings.</p>
<p>To completely remove the EIGRP routing process from a device, use the <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">router</span> <span class="pre">eigrp</span> <span class="pre">autonomous-system</span></code> global configuration mode command, which stops the EIGRP process and removes all existing EIGRP router configurations.</p>
</div>
<div class="section" id="eigrp-router-id">
<h2>EIGRP Router ID<a class="headerlink" href="#eigrp-router-id" title="Permalink to this headline">¶</a></h2>
<p>The EIGRP router ID is used to uniquely identify each router in the EIGRP routing domain.</p>
<p>The router ID is used in both EIGRP and OSPF routing protocols. However, the role of the router ID is more significant in OSPF. In EIGRP IPv4 implementations, the use of the router ID is not that apparent. EIGRP for IPv4 uses the 32-bit router ID to identify the originating router for redistribution of external routes. The need for a router ID becomes more evident in the discussion of EIGRP for IPv6. While the router ID is necessary for redistribution, the details of EIGRP redistribution are beyond the scope of this curriculum. For purposes of this curriculum, it is only necessary to understand what the router ID is and how it is determined.</p>
<p>To <strong>determine its router ID</strong>, a Cisco IOS router will use the following three criteria in order:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Use the address configured with the eigrp router-id ipv4-address router configuration mode command.</li>
<li>If the router ID is not configured, choose the highest IPv4 address of any of its loopback interfaces.</li>
<li>If no loopback interfaces are configured, choose the highest active IPv4 address of any of its physical interfaces.</li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If the network administrator does not explicitly configure a router ID using the eigrp router-id command, EIGRP generates its own router ID using either a loopback or physical IPv4 address. A loopback address is a virtual interface and is automatically in the up state when configured. The interface does not need to be enabled for EIGRP, meaning that it does not need to be included in one of the EIGRP network commands. However, the interface must be in the up/up state.</p>
<p class="last">Using the criteria described above, the figure shows the default EIGRP router IDs that are determined by the routers’ highest active IPv4 address.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The eigrp router-id command is used to configure the router ID for EIGRP. Some versions of IOS will accept the command router-id, without first specifying eigrp. The running-config, however, will display eigrp router-id regardless of which command is used.</p>
</div>
<img alt="../../../_images/6_eigrp_Topology_router_ids.png" src="../../../_images/6_eigrp_Topology_router_ids.png" />
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># eigrp router-id 1.1.1.1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1">#</span>

<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># eigrp router-id 2.2.2.2</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1">#</span>

<span class="n">R1</span><span class="c1"># show ip protocols</span>
<span class="o">***</span> <span class="n">IP</span> <span class="n">Routing</span> <span class="ow">is</span> <span class="n">NSF</span> <span class="n">aware</span> <span class="o">***</span>

<span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;eigrp 1&quot;</span>
  <span class="n">Outgoing</span> <span class="n">update</span> <span class="nb">filter</span> <span class="nb">list</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">interfaces</span> <span class="ow">is</span> <span class="ow">not</span>
  <span class="nb">set</span>
  <span class="n">Incoming</span> <span class="n">update</span> <span class="nb">filter</span> <span class="nb">list</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">interfaces</span> <span class="ow">is</span> <span class="ow">not</span>
  <span class="nb">set</span>
  <span class="n">Default</span> <span class="n">networks</span> <span class="n">flagged</span> <span class="ow">in</span> <span class="n">outgoing</span> <span class="n">updates</span>
  <span class="n">Default</span> <span class="n">networks</span> <span class="n">accepted</span> <span class="kn">from</span> <span class="nn">incoming</span> <span class="n">updates</span>
  <span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv4</span> <span class="n">Protocol</span> <span class="k">for</span> <span class="n">AS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">Metric</span> <span class="n">weight</span> <span class="n">K1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">K3</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">K4</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">K5</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">NSF</span><span class="o">-</span><span class="n">aware</span> <span class="n">route</span> <span class="n">hold</span> <span class="n">timer</span> <span class="ow">is</span> <span class="mi">240</span>
    <span class="n">Router</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span>
    <span class="n">Topology</span> <span class="p">:</span> <span class="mi">0</span> <span class="p">(</span><span class="n">base</span><span class="p">)</span>
      <span class="n">Active</span> <span class="n">Timer</span><span class="p">:</span> <span class="mi">3</span> <span class="nb">min</span>
      <span class="n">Distance</span><span class="p">:</span> <span class="n">internal</span> <span class="mi">90</span> <span class="n">external</span> <span class="mi">170</span>
      <span class="n">Maximum</span> <span class="n">path</span><span class="p">:</span> <span class="mi">4</span>
      <span class="n">Maximum</span> <span class="n">hopcount</span> <span class="mi">100</span>
      <span class="n">Maximum</span> <span class="n">metric</span> <span class="n">variance</span> <span class="mi">1</span>

  <span class="n">Automatic</span> <span class="n">Summarization</span><span class="p">:</span> <span class="n">disabled</span>
  <span class="n">Maximum</span> <span class="n">path</span><span class="p">:</span> <span class="mi">4</span>
  <span class="n">Routing</span> <span class="k">for</span> <span class="n">Networks</span><span class="p">:</span>
  <span class="n">Routing</span> <span class="n">Information</span> <span class="n">Sources</span><span class="p">:</span>
    <span class="n">Gateway</span>         <span class="n">Distance</span>      <span class="n">Last</span> <span class="n">Update</span>
  <span class="n">Distance</span><span class="p">:</span> <span class="n">internal</span> <span class="mi">90</span> <span class="n">external</span> <span class="mi">170</span>

<span class="n">R1</span><span class="c1">#</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The ipv4-address router ID can be configured with any IPv4 address except 0.0.0.0 and 255.255.255.255</p>
</div>
<p>If a router ID is not explicitly configured, then the router would use its <strong>highest IPv4 address configured on a loopback interface</strong>. The advantage of using a loopback interface is that unlike physical interfaces, <strong>loopbacks cannot fail</strong>. There are no actual cables or adjacent devices on which the loopback interface depends for being in the up state. Therefore, using a loopback address for the router ID can provide a more consistent router ID than using an interface address.</p>
<p>If the eigrp router-id command is not used and loopback interfaces are configured, EIGRP chooses the highest IPv4 address of any of its loopback interfaces.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">enable</span> <span class="n">eigrp</span> <span class="k">for</span> <span class="n">interfaces</span> <span class="n">on</span> <span class="n">subnets</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="ow">and</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">30</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 172.16.0.0</span>

<span class="n">enable</span> <span class="n">eigrp</span> <span class="k">for</span> <span class="n">interfaces</span> <span class="n">on</span> <span class="n">subnet</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.4</span><span class="o">/</span><span class="mi">30</span>
<span class="o">-----------------------------------------------------</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.10.0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1">#</span>

<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 172.16.0.0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1">#</span>
\<span class="o">*</span><span class="n">Feb</span> <span class="mi">28</span> <span class="mi">17</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mf">42.543</span><span class="p">:</span> <span class="o">%</span><span class="n">DUAL</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="n">NBRCHANGE</span><span class="p">:</span> <span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv4</span> <span class="mi">1</span><span class="p">:</span>
<span class="n">Neighbor</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span> <span class="p">(</span><span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="n">up</span><span class="p">:</span> <span class="n">new</span> <span class="n">adjacency</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1">#</span>

<span class="n">using</span> <span class="n">a</span> <span class="n">wildcard</span> <span class="n">mask</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="o">/</span> <span class="mi">30</span> <span class="o">=</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.255</span> <span class="o">-</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.252</span>
<span class="o">---------------------</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.10.8 0.0.0.3</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1">#</span>
<span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="n">recommended</span> <span class="n">just</span> <span class="n">use</span> <span class="n">subnetmask</span><span class="p">)</span>
<span class="o">---</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.10.8 255.255.255.252</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># end</span>
<span class="n">R2</span><span class="c1"># show running-config | section eigrp 1</span>
<span class="n">router</span> <span class="n">eigrp</span> <span class="mi">1</span>
 <span class="n">network</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">0.0</span>
 <span class="n">network</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.8</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.3</span>
 <span class="n">eigrp</span> <span class="n">router</span><span class="o">-</span><span class="nb">id</span> <span class="mf">2.2</span><span class="o">.</span><span class="mf">2.2</span>
<span class="n">R2</span><span class="c1">#</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">DUAL automatically generates the notification message because the <code class="docutils literal notranslate"><span class="pre">R(config-router)#</span> <span class="pre">eigrp</span> <span class="pre">log-neighbor-changes</span></code> command is enabled by default. Specifically, the command helps verify neighbor adjacencies during configuration of EIGRP and displays any changes in EIGRP neighbor adjacencies, such as when an EIGRP adjacency has been added or removed.</p>
</div>
</div>
<div class="section" id="passive-interface">
<h2>Passive Interface<a class="headerlink" href="#passive-interface" title="Permalink to this headline">¶</a></h2>
<p>As soon as a new IF is enabled within the EIGRP NW, EIGRP attempts to form a NB adjacency with any NB routers to send and receive updates</p>
<p>It may be necesary, or advantageous, to <strong>include a DC NW in the routing update but not allow any NB adjacencies off of that IF to form</strong>. The passive-interface command can be used to prevent the NB adjacencies</p>
<p>There are 2 primary reasons to enable the <code class="docutils literal notranslate"><span class="pre">passive-interface</span></code> command:</p>
<blockquote>
<div><ol class="arabic simple">
<li>To suppress unnecessary update traffic. E.g. when an IF is a LAN IF with no other routers connected</li>
<li>To increase security controls, such as preventing unknown rogue routing devices from receiving EIGRP updates</li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To configure all interfaces as passive, use the <code class="docutils literal notranslate"><span class="pre">passive-interface</span> <span class="pre">default</span></code> command. To disable an interface as passive, use the no passive-interface interface-type interface-number command.</p>
</div>
<p>An example of using the passive interface to increase security controls is when a network must connect to a third-party organization, for which the local administrator has no control, such as when connecting to an ISP network. In this case, the local network administrator would need to advertise the interface link through their own network, but would not want the third-party organization to receive or send routing updates to the local routing device, as this is a security risk.</p>
<p>Verify with show ip protocols</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># passive-interface gigabitethernet 0/0</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># passive-interface gigabitethernet 0/0</span>

<span class="n">R3</span><span class="c1"># show ip protocols</span>
<span class="o">***</span> <span class="n">IP</span> <span class="n">Routing</span> <span class="ow">is</span> <span class="n">NSF</span> <span class="n">aware</span> <span class="o">***</span>

<span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;eigrp 1&quot;</span>
<span class="o">&lt;</span><span class="n">output</span> <span class="n">omitted</span><span class="o">&gt;</span>
<span class="n">Routing</span> <span class="k">for</span> <span class="n">Networks</span><span class="p">:</span>
    <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span>
    <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.4</span><span class="o">/</span><span class="mi">30</span>
    <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.8</span><span class="o">/</span><span class="mi">30</span>
 <span class="n">Passive</span> <span class="n">Interface</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
   <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span>
 <span class="n">Routing</span> <span class="n">Information</span> <span class="n">Sources</span><span class="p">:</span>
    <span class="n">Gateway</span>         <span class="n">Distance</span>      <span class="n">Last</span> <span class="n">Update</span>
    <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.5</span>          <span class="mi">90</span>      <span class="mi">01</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">57</span>
    <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.9</span>          <span class="mi">90</span>      <span class="mi">01</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">57</span>
  <span class="n">Distance</span><span class="p">:</span> <span class="n">internal</span> <span class="mi">90</span> <span class="n">external</span> <span class="mi">170</span>
<span class="n">R3</span><span class="c1">#</span>
</pre></div>
</div>
</div>
<div class="section" id="show-ip-eigrp-neighbors-command">
<h2>show ip eigrp neighbors command<a class="headerlink" href="#show-ip-eigrp-neighbors-command" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_show_ip_nbs.png" src="../../../_images/6_eigrp_show_ip_nbs.png" />
<p>The column headers in the show ip eigrp neighbors command output identify the following:</p>
<blockquote>
<div><ul class="simple">
<li>H Lists the neighbors in the order that they were learned.</li>
<li>Address  IPv4 address of the neighbor.</li>
<li>Interface - Local interface on which this Hello packet was received.</li>
<li>Hold - Current hold time. When a Hello packet is received, this value is reset to the maximum hold time for that interface, and then counts down to zero. If zero is reached, the neighbor is considered down.</li>
<li>Uptime - Amount of time since this neighbor was added to the neighbor table.</li>
<li>Smooth Round Trip Timer (SRTT) and Retransmission Timeout (RTO) - Used by RTP to manage reliable EIGRP packets.</li>
<li>Queue Count - Should always be zero. If more than zero, then EIGRP packets wait to be sent.</li>
<li>Sequence Number - Used to track updates, queries, and reply packets.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the ping is successful and EIGRP still does not see the router as a neighbor, examine the following configurations:
Are both routers configured with the same EIGRP autonomous system number?
Is the directly connected network included in the EIGRP network statements?</p>
</div>
</div>
<div class="section" id="default-administrative-distances">
<h2>Default Administrative Distances<a class="headerlink" href="#default-administrative-distances" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_ADs.png" src="../../../_images/6_eigrp_ADs.png" />
<p>EIGRP has a default AD of 90 for internal routes and 170 for routes imported from an external source, such as default routes. When compared to other IGPs, EIGRP is the most preferred by the Cisco IOS, because it has the lowest administrative distance. EIGRP has a third AD value of 5, for summary routes.</p>
</div>
<div class="section" id="exchanging-routing-updates">
<h2>Exchanging Routing Updates<a class="headerlink" href="#exchanging-routing-updates" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_exchanging_RUs.png" src="../../../_images/6_eigrp_exchanging_RUs.png" />
</div>
<div class="section" id="updating-the-routing-table-ipv4">
<h2>Updating the Routing Table IPv4<a class="headerlink" href="#updating-the-routing-table-ipv4" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_UpdatingIPv4_routing_table.png" src="../../../_images/6_UpdatingIPv4_routing_table.png" />
</div>
<div class="section" id="interface-delay-values">
<h2>Interface Delay Values<a class="headerlink" href="#interface-delay-values" title="Permalink to this headline">¶</a></h2>
<p>Time for a packet to traverse a route</p>
<p>When used to determine the EIGRP metric, delay is the cumulative (sum) of all interface delays along the path (microseconds)</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="75%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Media</th>
<th class="head">Delay</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Ethernet</td>
<td>1000</td>
</tr>
<tr class="row-odd"><td>Fast Ethernet</td>
<td>100</td>
</tr>
<tr class="row-even"><td>Gigabit Ethernet</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>16M Token Ring</td>
<td>630</td>
</tr>
<tr class="row-even"><td>FDDI</td>
<td>100</td>
</tr>
<tr class="row-odd"><td>T1 (Serial Default)</td>
<td>20000</td>
</tr>
<tr class="row-even"><td>DS0 (64 kb/s)</td>
<td>20000</td>
</tr>
<tr class="row-odd"><td>1024 kb/s</td>
<td>20000</td>
</tr>
<tr class="row-even"><td>56 kb/s</td>
<td>20000</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="eigrp-calculate-metric">
<h2>EIGRP Calculate Metric<a class="headerlink" href="#eigrp-calculate-metric" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">sum of router its outgoing interface eg outgoing if R2 (serial) and R3 (lan gig), don’t include R3 incoming IF</p>
</div>
<ol class="arabic simple">
<li>Determine the link with the slowest bandwidth. Use that value to calculate bandwidth (10,000,000/bandwidth).</li>
<li>Determine the delay value for each outgoing interface on the way to the destination. Add the delay values and divide by 10 (sum of delay/10).</li>
<li>This composite metric produces a 24-bit value; however, EIGRP uses a 32-bit value. Multiplying the 24-bit value with 256 extends the composite metric into 32 bits. Therefore, add the computed values for bandwidth and delay, and multiply the sum by 256 to obtain the EIGRP metric.</li>
</ol>
<p>Default Composite Formula:
metric = <strong>[K1*bandwidth + K3*delay] * 256</strong></p>
<p>by default dus
<strong>(Bandwidth + Delay) * 256 = Metric</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">Metric</span> <span class="pre">=</span> <span class="pre">((</span> <span class="pre">10</span> <span class="pre">000</span> <span class="pre">000</span> <span class="pre">/</span> <span class="pre">bandwidth)</span> <span class="pre">+</span> <span class="pre">(sum</span> <span class="pre">of</span> <span class="pre">delay</span> <span class="pre">/</span> <span class="pre">10))</span> <span class="pre">*</span> <span class="pre">256</span></code></p>
<p>Complete Composite Formula:
metric = <strong>[K1*bandwidth +  (K2*bandwidth) / (256 - load) + K3*delay] * [K5 / (reliability + K4)]</strong></p>
<p>(Not used if “K” values are 0)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a conditional formula. If K5 = 0, the last term is replaced by 1 and the formula becomes: Metric = [K1*bandwidth + (K2*bandwidth) / (256-load) + K3*delay] * 256</p>
</div>
<p>Default Values:</p>
<blockquote>
<div>K1 (bandwidth) = 1
K2 (load) = 0
K3 (delay) = 1
K4 (reliability) = 0
K5 (reliability) = 0</div></blockquote>
<p>Change K values:</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Router</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># metric weights tos k1 k2 k3 k4 k5</span>
</pre></div>
</div>
<p>By default, EIGRP uses the following values in its composite metric to calculate the preferred path to a network:</p>
<blockquote>
<div><ul class="simple">
<li>Bandwidth
The slowest bandwidth among all of the outgoing interfaces, along the path from source to destination.</li>
<li>Delay
The cumulative (sum) of all interface delay along the path (in tens of microseconds).</li>
</ul>
</div></blockquote>
<p>The following values can be used, but are not recommended, because they typically result in frequent recalculation of the topology table:</p>
<blockquote>
<div><ul class="simple">
<li>Reliability
Represents the worst reliability between the source and destination, which is based on keepalives.</li>
<li>Load
Represents the worst load on a link between the source and destination, which is computed based on the packet rate and the configured bandwidth of the interface.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Although the MTU is included in the routing table updates, it is not a routing metric used by EIGRP.</p>
</div>
<p>The Composite Metric</p>
<p>Formula consists of values K1 to K5, known as EIGRP metric weights. K1 and K3 represent bandwidth and delay, respectively. K2 represents load, and K4 and K5 represent reliability. By default, K1 and K3 are set to 1, and K2, K4, and K5 are set to 0. The result is that only the bandwidth and delay values are used in the computation of the default composite metric. EIGRP for IPv4 and EIGRP for IPv6 use the same formula for the composite metric.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The metric calculation method (k values) and the EIGRP autonomous system number must match between EIGRP neighbors. If they do not match, the routers do not form an adjacency.</p>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ip protocols</span>
<span class="o">***</span> <span class="n">IP</span> <span class="n">Routing</span> <span class="ow">is</span> <span class="n">NSF</span> <span class="n">aware</span> <span class="o">***</span>

<span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;eigrp 1&quot;</span>
  <span class="n">Outgoing</span> <span class="n">update</span> <span class="nb">filter</span> <span class="nb">list</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">interfaces</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">set</span>
  <span class="n">Incoming</span> <span class="n">update</span> <span class="nb">filter</span> <span class="nb">list</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">interfaces</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">set</span>
  <span class="n">Default</span> <span class="n">networks</span> <span class="n">flagged</span> <span class="ow">in</span> <span class="n">outgoing</span> <span class="n">updates</span>
  <span class="n">Default</span> <span class="n">networks</span> <span class="n">accepted</span> <span class="kn">from</span> <span class="nn">incoming</span> <span class="n">updates</span>
  <span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv4</span> <span class="n">Protocol</span> <span class="k">for</span> <span class="n">AS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">Metric</span> <span class="n">weight</span> <span class="n">k1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">k2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">k3</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">k4</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">k5</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">NSF</span><span class="o">-</span><span class="n">aware</span> <span class="n">route</span> <span class="n">hold</span> <span class="n">timer</span> <span class="ow">is</span> <span class="mi">240</span>
    <span class="n">Router</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span>
    <span class="o">...</span>

<span class="n">R1</span><span class="c1"># show interfaces serial 0/0/0</span>
<span class="n">shows</span> <span class="n">BW</span><span class="p">,</span> <span class="n">DLY</span><span class="p">,</span> <span class="n">Reliability</span><span class="p">,</span> <span class="n">txload</span><span class="p">,</span> <span class="n">rxload</span>
</pre></div>
</div>
<ul class="simple">
<li>BW - Bandwidth of the interface (in kilobits per second).</li>
<li>DLY - Delay of the interface (in microseconds).</li>
<li>Reliability - Reliability of the interface as a fraction of 255 (255/255 is 100% reliability), calculated as an exponential average over five minutes. By default, EIGRP does not include its value in computing its metric.</li>
<li>Txload, Rxload - Transmit and receive load on the interface as a fraction of 255 (255/255 is completely saturated), calculated as an exponential average over five minutes. By default, EIGRP does not include its value in computing its metric.</li>
</ul>
</div>
<div class="section" id="bandwidth-configuration">
<h2>Bandwidth configuration<a class="headerlink" href="#bandwidth-configuration" title="Permalink to this headline">¶</a></h2>
<p>Because both EIGRP and OSPF use bandwidth in default metric calculations, a correct value for bandwidth is very important to the accuracy of routing information.</p>
<p>Use the following interface configuration mode command to modify the bandwidth metric:</p>
<p>Router(config-if)# bandwidth kilobits-bandwidth-value</p>
<p>Use the no bandwidth command to restore the default value.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">modify</span> <span class="n">bandwidth</span>
<span class="o">----------------</span>

<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s0/0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># bandwidth 2000</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># interface s0/0/1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># bandwidth 64</span>
</pre></div>
</div>
</div>
<div class="section" id="dual-concepts">
<h2>DUAL Concepts<a class="headerlink" href="#dual-concepts" title="Permalink to this headline">¶</a></h2>
<p>Dual provides:</p>
<blockquote>
<div><ul class="simple">
<li>Loop-free paths</li>
<li>Loop-free backup paths that can be used immediately</li>
<li>Fast convergence</li>
<li>Minimum BW usage with bounded updates</li>
</ul>
<ul class="simple">
<li><dl class="first docutils">
<dt>Successor</dt>
<dd><dl class="first last docutils">
<dt>Is a neighboring router and is the <strong>Least-Cost</strong> route to destination NW</dt>
<dd>IP is shown in routing table after the word <strong>via</strong></dd>
</dl>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Feasible Distance (FD)</dt>
<dd>Lowest calculated Metric to reach Destination NW</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Feasible Successor (FS) aka Backup paths</dt>
<dd>Is a NB that has loop-free backup path with same NW as successor and satisfies the FC</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Reported Distance (RD) or Advertised Distance (AD)</dt>
<dd>The metric that a router reports to a NB about its own cost to that NW</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Feasible Condition or Feasibility Condition (FC)</dt>
<dd>When a NB’s RD to a NW &lt; than the local router’s FD to same destination NW</dd>
</dl>
</li>
</ul>
</div></blockquote>
<img alt="../../../_images/6_eigrp_feasibility_1.png" src="../../../_images/6_eigrp_feasibility_1.png" />
<ul class="simple">
<li>R2’s successor for the 192.168.1.0/24 network is R3, providing the best path or lowest metric to the destination NW</li>
<li>R1 provides an alternative path, but is it an FS?</li>
<li>Before R1 can be an FS for R2, R1 must meet the FC</li>
<li>The FC is met when a NB reported distance(metric R reports to NB) to a NW is less than the local router’s feasible distance(lowest calc. metric) to that same destination NW</li>
</ul>
<img alt="../../../_images/6_eigrp_feasibility_RD.png" src="../../../_images/6_eigrp_feasibility_RD.png" />
<p>R1’s feasible distance to 192.168.1.0/24 is 2,170,112.</p>
<blockquote>
<div><ul class="simple">
<li>R1 reports to R2 that its FD to 192.168.1.0/24 is 2,170,112</li>
<li>From R2’s perspective, 2,170,112 is R1’s RD.</li>
</ul>
</div></blockquote>
<p>R2 uses this information to determine if R1 meets the FC and, therefore, can be an FS.</p>
<img alt="../../../_images/6_eigrp_feasibility_FC.png" src="../../../_images/6_eigrp_feasibility_FC.png" />
<ul class="simple">
<li>R2’s feasible distance to 192.168.1.0 is 3,012,096</li>
<li>R1’s reported distance to 192.168.1.0 is 2,170,112</li>
<li>R1 meets the feasibility condition</li>
</ul>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="c1"># show ip route</span>

<span class="n">D</span>    <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3012096</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.10</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
                           <span class="o">|</span>             <span class="o">|</span>
    <span class="n">Feasible</span> <span class="n">Distance</span> <span class="o">&lt;-----</span>             <span class="o">------&gt;</span> <span class="n">Successor</span> <span class="p">(</span><span class="n">R3</span><span class="p">)</span>
</pre></div>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ip route</span>

<span class="n">D</span>    <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2170112</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.6</span><span class="p">,</span> <span class="mi">02</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
                           <span class="o">|</span>
    <span class="n">Feasible</span> <span class="n">Distance</span> <span class="o">&lt;-----</span>
    <span class="n">Sent</span> <span class="n">to</span> <span class="n">R2</span> <span class="k">as</span> <span class="n">R1</span><span class="s1">&#39;s Reported Distance</span>
</pre></div>
</div>
<ul class="simple">
<li>because the RD of R1 (2,170,112) is less than R2’s own FD (3,012,096), R1 meets the FC.</li>
<li>R1 is now an FS for R2 to the 192.168.1.0/24 network.</li>
</ul>
<img alt="../../../_images/6_eigrp_using_the_FS.png" src="../../../_images/6_eigrp_using_the_FS.png" />
<ul class="simple">
<li>If there is a failure in R2’s path to 192.168.1.0/24 via R3 (successor), then R2 immediately installs the path via R1 (FS) in its routing table.</li>
<li>R1 becomes the new successor for R2’s path to this network</li>
</ul>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="c1"># show ip route</span>

<span class="n">D</span>     <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">41024256</span><span class="p">]</span> <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
                           <span class="o">|</span>  <span class="o">|</span>
    <span class="n">Feasible</span> <span class="n">Distance</span> <span class="o">&lt;-----</span>  <span class="o">------&gt;</span> <span class="n">Successor</span> <span class="p">(</span><span class="n">R1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="topology-table">
<h2>Topology Table<a class="headerlink" href="#topology-table" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_show_ip_topology.png" src="../../../_images/6_eigrp_show_ip_topology.png" />
<ul class="simple">
<li>The EIGRP topology table contains all of the routes that are known to each EIGRP NB.</li>
<li>Lists all successors and FSs that DUAL has calculated to destination NWs</li>
<li>Only the successor is installed into the IP routing table</li>
</ul>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="c1"># show ip eigrp topology</span>
<span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv4</span> <span class="n">Topology</span> <span class="n">Table</span> <span class="k">for</span> <span class="n">AS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">ID</span><span class="p">(</span><span class="mf">2.2</span><span class="o">.</span><span class="mf">2.2</span><span class="p">)</span>
<span class="n">Codes</span><span class="p">:</span> <span class="n">P</span> <span class="o">-</span> <span class="n">Passive</span><span class="p">,</span> <span class="n">A</span> <span class="o">-</span> <span class="n">Active</span><span class="p">,</span> <span class="n">U</span> <span class="o">-</span> <span class="n">Update</span><span class="p">,</span> <span class="n">Q</span> <span class="o">-</span> <span class="n">Query</span><span class="p">,</span> <span class="n">R</span> <span class="o">-</span> <span class="n">Reply</span><span class="p">,</span>
       <span class="n">r</span> <span class="o">-</span> <span class="n">reply</span> <span class="n">Status</span><span class="p">,</span> <span class="n">s</span> <span class="o">-</span> <span class="n">sia</span> <span class="n">Status</span>

<span class="n">P</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">2.0</span><span class="o">/</span><span class="mi">24</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">2816</span>
        <span class="n">via</span> <span class="n">Connected</span><span class="p">,</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">P</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.4</span><span class="o">/</span><span class="mi">30</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">3523840</span>
        <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.10</span> <span class="p">(</span><span class="mi">3523840</span><span class="o">/</span><span class="mi">2169856</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
        <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span> <span class="p">(</span><span class="mi">41024000</span><span class="o">/</span><span class="mi">2169856</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">P</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">3012096</span>
        <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.10</span> <span class="p">(</span><span class="mi">3012096</span><span class="o">/</span><span class="mi">2816</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
        <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span> <span class="p">(</span><span class="mi">41024256</span><span class="o">/</span><span class="mi">2170112</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">P</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">30</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">40512000</span>
        <span class="n">via</span> <span class="n">Connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">P</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">3524096</span>
        <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.10</span> <span class="p">(</span><span class="mi">3524096</span><span class="o">/</span><span class="mi">2170112</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
        <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span> <span class="p">(</span><span class="mi">40512256</span><span class="o">/</span><span class="mi">2816</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">P</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.8</span><span class="o">/</span><span class="mi">30</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">3011840</span>
        <span class="n">via</span> <span class="n">Connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>

<span class="n">R2</span><span class="c1">#</span>
</pre></div>
</div>
<img alt="../../../_images/6_eigrp_topotable_entry.png" src="../../../_images/6_eigrp_topotable_entry.png" />
<ul class="simple">
<li><dl class="first docutils">
<dt>P - Route in the passive state</dt>
<dd>When DUAL is not performing its diffusing computations to determine a path for a network, the route is in a stable mode, known as the passive state. If DUAL recalculates or searches for a new path, the route is in an active state and displays an A. All routes in the topology table should be in the passive state for a stable routing domain.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>192.168.1.0/24</dt>
<dd>Destination network that is also found in the routing table.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>1 successors</dt>
<dd>Displays the number of successors for this network. If there are multiple equal cost paths to this network, there are multiple successors.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>FD is 3012096</dt>
<dd>FD, the EIGRP metric to reach the destination network. This is the metric displayed in the IP routing table.</dd>
</dl>
</li>
</ul>
<img alt="../../../_images/6_eigrp_topotable_entry2.png" src="../../../_images/6_eigrp_topotable_entry2.png" />
<ul class="simple">
<li><dl class="first docutils">
<dt>via 192.168.10.10</dt>
<dd>Next-hop address of the successor, R3. This address is shown in the routing table.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>3012096</dt>
<dd>FD to 192.168.1.0/24. It is the metric shown in the IP routing table.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>2816</dt>
<dd>RD of the successor and is R3’s cost to reach this network.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Serial 0/0/1</dt>
<dd>Outbound interface used to reach this network, also shown in the routing table.</dd>
</dl>
</li>
</ul>
<img alt="../../../_images/6_eigrp_topotable_entry3.png" src="../../../_images/6_eigrp_topotable_entry3.png" />
<p>the second subentry shows the FS, R1 (if there is not a second entry, then there are no FSs):</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>via 172.16.3.1</dt>
<dd>Next-hop address of the FS, R1.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>41024256</dt>
<dd>R2’s new FD to 192.168.1.0/24, if R1 became the new successor and would be the new metric displayed in the IP routing table.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>2170112</dt>
<dd>RD of the FS, or R1’s metric to reach this network. RD must be less than the current FD of 3,012,096 to meet the FC.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Serial 0/0/0</dt>
<dd>This is the outbound interface used to reach FS, if this router becomes the successor.</dd>
</dl>
</li>
</ul>
<div class="section" id="no-feasible-successor">
<h3>No feasible Successor<a class="headerlink" href="#no-feasible-successor" title="Permalink to this headline">¶</a></h3>
<img alt="../../../_images/6_eigrp_topotable_noFS.png" src="../../../_images/6_eigrp_topotable_noFS.png" />
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ip route</span>

 <span class="n">D</span>    <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2170112</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.6</span><span class="p">,</span> <span class="mi">01</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
                              <span class="o">|</span>             <span class="o">|</span>
       <span class="n">Feasible</span> <span class="n">Distance</span> <span class="o">&lt;-----</span>             <span class="o">------&gt;</span> <span class="n">Next</span><span class="o">-</span><span class="n">hop</span> <span class="n">router</span> <span class="p">(</span><span class="n">R3</span><span class="p">)</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">Successor</span>
</pre></div>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ip eigrp topology</span>

 <span class="n">P</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">2170112</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.6</span> <span class="p">(</span><span class="mi">2170112</span><span class="o">/</span><span class="mi">2816</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
                                               <span class="o">|</span>
                                               <span class="o">-----&gt;</span> <span class="n">Successor</span>
</pre></div>
</div>
<p>The IP routing table only includes the best path, the successor. To see if there are any FSs, we must examine the EIGRP topology table. The topology table in Figure 3 only shows the successor 192.168.10.6, which is R3. There are no FSs. By looking at the actual physical topology or network diagram, it is obvious that there is a backup route to 192.168.1.0/24 through R2. R2 is not an FS because it does not meet the FC. Although, looking at the topology, it is obvious that R2 is a backup route, EIGRP does not have a map of the network topology. EIGRP is a distance vector routing protocol and only knows about remote network information through its neighbors.</p>
<img alt="../../../_images/6_eigrp_show_ip_eigrp_topology_all-links.png" src="../../../_images/6_eigrp_show_ip_eigrp_topology_all-links.png" />
<p>show ip eigrp topology all-links command shows all possible paths to a network, including successors, FSs, and even those routes that are not FSs. R1’s FD to 192.168.1.0/24 is 2,170,112 via the successor R3. For R2 to be considered a FS, it must meet the FC. R2’s RD to R1 to reach 192.168.1.0/24 must be less the R1’s current FD. Per the figure, R2’s RD is 3,012,096, which is higher than R1’s current FD of 2,170,112.</p>
<p>Even though R2 looks like a viable backup path to 192.168.1.0/24, R1 has no idea that the path is not a potential loop back through itself. EIGRP is a distance vector routing protocol, without the ability to see a complete, loop-free topological map of the network. DUAL’s method of guaranteeing that a neighbor has a loop-free path is that the neighbor’s metric must satisfy the FC. By ensuring that the RD of the neighbor is less than its own FD, the router can assume that this neighboring router is not part of its own advertised route; thus, always avoiding the potential for a loop.</p>
<p>R2 can be used as a successor if R3 fails; however, there is a longer delay before adding it to the routing table. Before R2 can be used as a successor, DUAL must do further processing.</p>
</div>
</div>
<div class="section" id="dual-finite-state-machine">
<h2>DUAL Finite State Machine<a class="headerlink" href="#dual-finite-state-machine" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_dual_fsm.png" src="../../../_images/6_eigrp_dual_fsm.png" />
<div class="section" id="debug-eigrp-fsm">
<h3>debug eigrp fsm<a class="headerlink" href="#debug-eigrp-fsm" title="Permalink to this headline">¶</a></h3>
<img alt="../../../_images/6_eigrp_debug_eigrp_fsm.png" src="../../../_images/6_eigrp_debug_eigrp_fsm.png" />
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="c1"># show ip eigrp topology</span>

<span class="n">P</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">3012096</span>
<span class="n">Successor</span> <span class="p">(</span><span class="n">R3</span><span class="p">)</span><span class="o">--&gt;</span>    <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.10</span> <span class="p">(</span><span class="mi">3012096</span><span class="o">/</span><span class="mi">2816</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
                     <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span> <span class="p">(</span><span class="mi">41024256</span><span class="o">/</span><span class="mi">2170112</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
                                      <span class="o">|</span>
                                      <span class="o">----&gt;</span> <span class="n">FS</span> <span class="p">(</span><span class="n">R1</span><span class="p">)</span>
</pre></div>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="c1"># debug eigrp fsm</span>
<span class="n">EIGRP</span> <span class="n">Finite</span> <span class="n">State</span> <span class="n">Machine</span> <span class="n">debugging</span> <span class="ow">is</span> <span class="n">on</span>
<span class="n">R2</span><span class="c1"># conf t</span>
<span class="n">Enter</span> <span class="n">configuration</span> <span class="n">commands</span><span class="p">,</span> <span class="n">one</span> <span class="n">per</span> <span class="n">line</span><span class="o">.</span>  <span class="n">End</span> <span class="k">with</span> <span class="n">CNTL</span><span class="o">/</span><span class="n">Z</span><span class="o">.</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/0/1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># shutdown</span>

<span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv4</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span><span class="n">Find</span> <span class="n">FS</span> <span class="k">for</span> <span class="n">dest</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">24.</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">3012096</span> <span class="p">,</span><span class="n">RD</span> <span class="ow">is</span> <span class="mi">3012096</span>
 <span class="n">on</span> <span class="n">tid</span> <span class="mi">0</span>
<span class="n">DUAL</span><span class="p">:</span> <span class="n">AS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">Removing</span> <span class="n">dest</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span><span class="p">,</span> <span class="n">nexthop</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.10</span>
<span class="n">DUAL</span><span class="p">:</span> <span class="n">AS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">RT</span> <span class="n">installed</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span>

<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># end</span>
<span class="n">R2</span><span class="c1"># undebug all</span>
</pre></div>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="c1"># show ip route</span>

<span class="n">D</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">41024256</span><span class="p">]</span> <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">51</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
                                   <span class="o">|</span>
                                   <span class="o">----&gt;</span> <span class="n">New</span> <span class="n">Successor</span> <span class="p">(</span><span class="n">R1</span><span class="p">)</span>
</pre></div>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="c1"># show ip eigrp topology</span>

<span class="n">P</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">41024256</span> <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span> <span class="p">(</span><span class="mi">41024256</span><span class="o">/</span><span class="mi">2170112</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
                                                                <span class="o">|</span>
                                                                <span class="o">---&gt;</span> <span class="n">Successor</span> <span class="p">(</span><span class="n">R1</span><span class="p">)</span>  <span class="n">No</span> <span class="n">new</span> <span class="n">feasible</span> <span class="n">successor</span>
</pre></div>
</div>
<p>If the link between R2 and R3 is made active again, then R3 returns as the successor and R1 once again becomes the FS</p>
</div>
</div>
<div class="section" id="comparing-eigrp-for-ipv4-and-ipv6">
<h2>Comparing EIGRP for IPv4 and IPv6<a class="headerlink" href="#comparing-eigrp-for-ipv4-and-ipv6" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="39%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">EIGRP for IPv4</th>
<th class="head">EIGRP for IPv6</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Advertised Routes</td>
<td>IPv4 networks</td>
<td>IPv6 prefixes</td>
</tr>
<tr class="row-odd"><td>Distance Vector</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>Convergence Technology</td>
<td>DUAL</td>
<td>DUAL</td>
</tr>
<tr class="row-odd"><td>Metric</td>
<td>Bandwidth and delay by default, reliability and load are optional</td>
<td>Bandwidth and delay by default, reliability and load are optional</td>
</tr>
<tr class="row-even"><td>Transport Protocol</td>
<td>RTP</td>
<td>RTP</td>
</tr>
<tr class="row-odd"><td>Update Messages</td>
<td>Incremental, partial, and bounded updates</td>
<td>Incremental, partial, and bounded updates</td>
</tr>
<tr class="row-even"><td>Neighbor Discovery</td>
<td>Hello packets</td>
<td>Hello packets</td>
</tr>
<tr class="row-odd"><td>Source and Destination Addresses</td>
<td>IPv4 source address and 224.0.0.10 IPv4 multicast destination address</td>
<td>IPv6 link-local source address and FF02::A IPv6 multicast destination address</td>
</tr>
<tr class="row-even"><td>Authentication</td>
<td>MD5, SHA256</td>
<td>MD5, SHA256</td>
</tr>
<tr class="row-odd"><td>Router ID</td>
<td>32-bit router ID</td>
<td>32-bit router ID</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><dl class="first docutils">
<dt>Advertised routes</dt>
<dd>EIGRP for IPv4 advertises IPv4 networks; whereas, EIGRP for IPv6 advertises IPv6 prefixes.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Distance vector</dt>
<dd>Both EIGRP or IPv4 and IPv6 are advanced distance vector routing protocols. Both protocols use the same administrative distances.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Convergence technology</dt>
<dd>EIGRP for IPv4 and IPv6 both use the DUAL algorithm. Both protocols use the same DUAL techniques and processes, including successor, FS, FD, and RD.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Metric</dt>
<dd>Both EIGRP for IPv4 and IPv6 use bandwidth, delay, reliability, and load for their composite metric. Both routing protocols use the same composite metric and use only bandwidth and delay, by default.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Transport protocol</dt>
<dd>The Reliable Transport Protocol (RTP) is responsible for guaranteed delivery of EIGRP packets to all neighbors for both protocols, EIGRP for IPv4 and IPv6.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Update messages</dt>
<dd>Both EIGRP for IPv4 and IPv6 send incremental updates when the state of a destination changes. The terms, partial and bounded, are used when referring to updates for both protocols.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Neighbor discovery mechanism</dt>
<dd>EIGRP for IPv4 and EIGRP for IPv6 use a simple Hello mechanism to learn about neighboring routers and form adjacencies.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Source and destination addresses</dt>
<dd>EIGRP for IPv4 sends messages to the multicast address 224.0.0.10. These messages use the source IPv4 address of the outbound interface. EIGRP for IPv6 sends its messages to the multicast address FF02::A. EIGRP for IPv6 messages are sourced using the IPv6 link-local address of the exit interface.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Authentication</dt>
<dd>EIGRP for IPv4 and EIGRP for IPv6 use Message Digest 5 (MD5) authentication. Named EIGRP also supports the stronger SHA256 algorithm.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Router ID</dt>
<dd>Both EIGRP for IPv4 and EIGRP for IPv6 use a 32-bit number for the EIGRP router ID. The 32-bit router ID is represented in dotted-decimal notation and is commonly referred to as an IPv4 address. If the EIGRP for IPv6 router has not been configured with an IPv4 address, the eigrp router-id command must be used to configure a 32-bit router ID. The process for determining the router ID is the same for both EIGRP for IPv4 and IPv6.</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="eigrp-ipv6-link-local-addresses">
<h2>EIGRP IPv6 Link-Local addresses<a class="headerlink" href="#eigrp-ipv6-link-local-addresses" title="Permalink to this headline">¶</a></h2>
<p>EIGRP for IPv6 messages are sent using:</p>
<blockquote>
<div><dl class="docutils">
<dt>Source IPv6 address</dt>
<dd>This is the IPv6 link-local address of the exit interface.</dd>
<dt>Destination IPv6 address</dt>
<dd>When the packet needs to be sent to a multicast address, it is sent to the IPv6 multicast address FF02::A, the all-EIGRP-routers with link-local scope. If the packet can be sent as a unicast address, it is sent to the link-local address of the neighboring router.</dd>
</dl>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">IPv6 link-local addresses are in the FE80::/10 range. The /10 indicates that the first 10 bits are 1111 1110 10xx xxxx, which results in the first hextet having a range of 1111 1110 1000 0000 (FE80) to 1111 1110 1011 1111 (FEBF).</p>
</div>
</div>
<div class="section" id="eigrp-ipv6-configuration">
<h2>EIGRP IPv6 configuration<a class="headerlink" href="#eigrp-ipv6-configuration" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_ipv6_configuration.png" src="../../../_images/6_eigrp_ipv6_configuration.png" />
<p>Only the IPv6 global unicast addresses have been configured on each router.</p>
<p>below are the starting interface configurations on each router. Notice the interface bandwidth values from the previous EIGRP for IPv4 configuration. Because EIGRP for IPv4 and IPv6 use the same metrics, modifying the bandwidth parameters influences both routing protocols.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span>R1# show running-config

!
interface GigabitEthernet0/0
 ipv6 address 2001:DB8:CAFE:1::1/64
!
interface Serial0/0/0
 ipv6 address 2001:DB8:CAFE:A001::1/64
 clock rate 64000
!
interface Serial0/0/1
 ipv6 address 2001:DB8:CAFE:A003::1/64


R2# show running-config

!
interface GigabitEthernet0/0
 ipv6 address 2001:DB8:CAFE:2::1/64
!
interface Serial0/0/0
 ipv6 address 2001:DB8:CAFE:A001::2/64
!
interface Serial0/0/1
 ipv6 address 2001:DB8:CAFE:A002::1/64
 clock rate 64000
!
interface Serial0/1/0
 ipv6 address 2001:DB8:FEED:1::1/64


R3# show running-config

!
interface GigabitEthernet0/0
 ipv6 address 2001:DB8:CAFE:3::1/64
!
interface Serial0/0/0
 ipv6 address 2001:DB8:CAFE:A003::2/64
 clock rate 64000
!
interface Serial0/0/1
 ipv6 address 2001:DB8:CAFE:A002::2/64
</pre></div>
</div>
</div>
<div class="section" id="configuring-ipv6-link-locals">
<h2>Configuring IPv6 Link-Locals<a class="headerlink" href="#configuring-ipv6-link-locals" title="Permalink to this headline">¶</a></h2>
<p>Link-local addresses are automatically created when an IPv6 global unicast address is assigned to the interface. Global unicast addresses are not required on an interface; however, IPv6 link-local addresses are.</p>
<img alt="../../../_images/6_eigrp_cfg_link_locals.png" src="../../../_images/6_eigrp_cfg_link_locals.png" />
<p>Unless configured manually, Cisco routers create the link-local address using <strong>FE80::/10</strong> prefix and the EUI-64 process. EUI-64 involves using the 48-bit Ethernet MAC address, inserting FFFE in the middle and flipping the seventh bit. <strong>For serial interfaces, Cisco uses the MAC address of an Ethernet interface</strong>. A router with several serial interfaces can assign the same link-local address to each IPv6 interface, because link-local addresses only need to be local on the link.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Router</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 address link-local-address link-local</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A link-local address has a prefix within the range FE80 to FEBF.</p>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 address fe80::1 ?</span>
  <span class="n">link</span><span class="o">-</span><span class="n">local</span>  <span class="n">Use</span> <span class="n">link</span><span class="o">-</span><span class="n">local</span> <span class="n">address</span>

<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 address fe80::1 link-local</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># exit</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/0/1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 address fe80::1 link-local</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># exit</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface g 0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 address fe80::1 link-local</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1">#</span>


<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/0/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 address fe80::2 link-local</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># exit</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/0/1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 address fe80::2 link-local</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># exit</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/1/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 address fe80::2 link-local</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># exit</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface g 0/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 address fe80::2 link-local</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1">#</span>
</pre></div>
</div>
<p>Same IPv6 link-local address is configured on all interfaces</p>
</div>
<div class="section" id="eigrp-ipv6-routing-process">
<h2>EIGRP IPv6 Routing Process<a class="headerlink" href="#eigrp-ipv6-routing-process" title="Permalink to this headline">¶</a></h2>
<p>R1(config)# ipv6 router eigrp 2
% IPv6 routing not enabled
R1(config)# ipv6 unicast-routing
R1(config)# ipv6 router eigrp 2
R1(config-rtr)#</p>
<p>R1(config)# ipv6 router eigrp 2
R1(config-rtr)# eigrp router-id 1.0.0.0
R1(config-rtr)#</p>
<p>R1(config)# ipv6 router eigrp 2
% IPv6 routing not enabled
R1(config)# ipv6 unicast-routing
R1(config)# ipv6 router eigrp 2
R1(config-rtr)#</p>
<p>R2(config)# ipv6 unicast-routing
R2(config)# ipv6 router eigrp 2
R2(config-rtr)# eigrp router-id 2.0.0.0
R2(config-rtr)# no shutdown
R2(config-rtr)#</p>
<p>EIGRP for IPv6 uses a 32 bit value for the router ID. To obtain that value, EIGRP for IPv6 uses the same process as EIGRP for IPv4. The eigrp router-id command takes precedence over any loopback or physical interface IPv4 addresses. If an EIGRP for IPv6 router does not have any active interfaces with an IPv4 address, then the eigrp router-id command is required.</p>
<p>The router ID should be a unique 32-bit number in the EIGRP for IP routing domain; otherwise, routing inconsistencies can occur.</p>
<p>Note: The eigrp router-id command is used to configure the router ID for EIGRP. Some versions of IOS will accept the command router-id, without first specifying eigrp. The running-config, however, will display eigrp router-id regardless of which command is used.</p>
<p><strong>By default, the EIGRP for IPv6 process is in a shutdown state</strong>. The no shutdown command is required to activate the EIGRP for IPv6 process, as shown in Figure 3. This command is not required for EIGRP for IPv4. Although, EIGRP for IPv6 is enabled, neighbor adjacencies and routing updates cannot be sent and received until EIGRP is activated on the appropriate interfaces.</p>
<p>Both the no shutdown command and a router ID are required for the router to form neighbor adjacencies.</p>
</div>
<div class="section" id="enabling-eigrp-for-ipv6-if">
<h2>Enabling EIGRP for IPv6 IF<a class="headerlink" href="#enabling-eigrp-for-ipv6-if" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface g0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 eigrp 2</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># exit</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 eigrp 2</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># exit</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/0/1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 eigrp 2</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1">#</span>


<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface g 0/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 eigrp 2</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># exit</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/0/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 eigrp 2</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># exit</span>
<span class="o">%</span><span class="n">DUAL</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="n">NBRCHANGE</span><span class="p">:</span> <span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="mi">2</span><span class="p">:</span> <span class="n">Neighbor</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">1</span>
 <span class="p">(</span><span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="n">up</span><span class="p">:</span> <span class="n">new</span> <span class="n">adjacency</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s 0/0/1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 eigrp 2</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1">#</span>
</pre></div>
</div>
<div class="section" id="configure-and-verify-ipv6">
<h3>Configure and Verify IPv6<a class="headerlink" href="#configure-and-verify-ipv6" title="Permalink to this headline">¶</a></h3>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 2</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># passive-interface gigabitethernet 0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># end</span>

<span class="n">R1</span><span class="c1"># show ipv6 protocols</span>

<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;eigrp 2&quot;</span>
<span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="n">Protocol</span> <span class="k">for</span> <span class="n">AS</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>


  <span class="n">Interfaces</span><span class="p">:</span>
    <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
    <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
    <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span> <span class="p">(</span><span class="n">passive</span><span class="p">)</span>
 <span class="n">Redistribution</span><span class="p">:</span>
    <span class="kc">None</span>
<span class="n">R1</span><span class="c1">#</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ipv6-nb-table">
<h2>IPv6 NB Table<a class="headerlink" href="#ipv6-nb-table" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_ipv6_nb_table.png" src="../../../_images/6_eigrp_ipv6_nb_table.png" />
<p>The column headers in the show ipv6 eigrp neighbors command output identify the following:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>H</dt>
<dd>Lists the neighbors in the order they were learned.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Address</dt>
<dd>IPv6 link-local address of the neighbor.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Interface</dt>
<dd>Local interface on which this Hello packet was received.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Hold</dt>
<dd>Current hold time. When a Hello packet is received, this value is reset to the maximum hold time for that interface and then counts down to zero. If zero is reached, the neighbor is considered down.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Uptime</dt>
<dd>Amount of time since this neighbor was added to the neighbor table.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>SRTT and RTO</dt>
<dd>Used by RTP to manage reliable EIGRP packets.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Queue Count</dt>
<dd>Should always be zero. If it is more than zero, then EIGRP packets are waiting to be sent.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Sequence Number</dt>
<dd>Used to track updates, queries, and reply packets.</dd>
</dl>
</li>
</ul>
</div></blockquote>
<img alt="../../../_images/6_eigrp_show_ipv6_nb.png" src="../../../_images/6_eigrp_show_ipv6_nb.png" />
<p>The show ipv6 eigrp neighbors command is useful for verifying and troubleshooting EIGRP for IPv6. If an expected neighbor is not listed, ensure that both ends of the link are up/up using the show ipv6 interface brief command. The same requirements exist for establishing neighbor adjacencies with EIGRP for IPv6 as it does for IPv4. If both sides of the link have active interfaces, check to see:</p>
<blockquote>
<div><ul class="simple">
<li>Are both routers configured with the same EIGRP autonomous system number?</li>
<li>Is the interface enabled for EIGRP for IPv6 with the correct autonomous system number?</li>
</ul>
</div></blockquote>
<img alt="../../../_images/6_eigrp_show_ipv6_protocols.png" src="../../../_images/6_eigrp_show_ipv6_protocols.png" />
<ol class="arabic simple">
<li>EIGRP for IPv6 is an active dynamic routing protocol on R1 configured with the autonomous system number 2.</li>
<li>These are the k values used to calculate the EIGRP composite metric. K1 and K3 are 1, by default, and K2, K4, and K5 are 0, by default.</li>
<li>The EIGRP for IPv6 router ID of R1 is 1.0.0.0.</li>
<li>Same as EIGRP for IPv4, EIGRP for IPv6 administrative distances have internal AD of 90 and external of 170 (default values).</li>
<li>The interfaces enabled for EIGRP for IPv6.</li>
</ol>
<p>The output from the show ipv6 protocols command is useful in debugging routing operations. The Interfaces section shows which interfaces EIGRP for IPv6 have been enabled. This is useful in verifying that EIGRP is enabled on all of the appropriate interfaces with the correct autonomous system number.</p>
</div>
<div class="section" id="eigrp-ipv6-routing-table">
<h2>EIGRP IPv6 Routing Table<a class="headerlink" href="#eigrp-ipv6-routing-table" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ipv6 route</span>

<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">1</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">1</span><span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">2</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3524096</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">3</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2170112</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A001</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A001</span><span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A002</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3523840</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A003</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A003</span><span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">L</span>   <span class="n">FF00</span><span class="p">::</span><span class="o">/</span><span class="mi">8</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Null0</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">R1</span><span class="c1">#</span>
</pre></div>
</div>
<p>R1 has installed three EIGRP routes to remote IPv6 networks in its IPv6 routing table:</p>
<blockquote>
<div><ul class="simple">
<li>2001:DB8:CAFE:2::/64 via R3 (FE80::3) using its Serial 0/0/1 interface</li>
<li>2001:DB8:CAFE:3::/64 via R3 (FE80::3) using its Serial 0/0/1 interface</li>
<li>2001:DB8:CAFE:A002::/64 via R3 (FE80::3) using its Serial 0/0/1 interface</li>
</ul>
</div></blockquote>
<p>All three routes are using router R3 as the next-hop router (successor). Notice that the routing table uses the link-local address as the next-hop address. Because each router has had all its interfaces configured with a unique and distinguishable link-local address, it is easy to recognize that the next-hop router via FE80::3 is router R3.</p>
<p>display the IPv6 routing table for R2.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="c1"># show ipv6 route</span>

<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">1</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3524096</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">2</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">2</span><span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">3</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3012096</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A001</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A001</span><span class="p">::</span><span class="mi">2</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A002</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A002</span><span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A003</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3523840</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">FEED</span><span class="p">:</span><span class="mi">1</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Loopback6</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">FEED</span><span class="p">:</span><span class="mi">1</span><span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Loopback6</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">L</span>   <span class="n">FF00</span><span class="p">::</span><span class="o">/</span><span class="mi">8</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Null0</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">R2</span><span class="c1">#</span>
</pre></div>
</div>
<p>display the routing table for R3. Notice that R3 has two equal cost paths to the 2001:DB8:CAFE:A001::/64. One path is via R1 at FE80::1 and the other path is via R2 at FE80::2.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R3</span><span class="c1"># show ipv6 route</span>

<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">1</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2170112</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">1</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">2</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3012096</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">2</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">3</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="mi">3</span><span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A001</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">41024000</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">1</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">2</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A002</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A002</span><span class="p">::</span><span class="mi">2</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">C</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A003</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">directly</span> <span class="n">connected</span>
<span class="n">L</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">CAFE</span><span class="p">:</span><span class="n">A003</span><span class="p">::</span><span class="mi">2</span><span class="o">/</span><span class="mi">128</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">L</span>   <span class="n">FF00</span><span class="p">::</span><span class="o">/</span><span class="mi">8</span> <span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">Null0</span><span class="p">,</span> <span class="n">receive</span>
<span class="n">R3</span><span class="c1">#</span>
</pre></div>
</div>
</div>
<div class="section" id="eigrp-for-ipv6-lab-demo">
<h2>EIGRP for IPv6 lab demo<a class="headerlink" href="#eigrp-for-ipv6-lab-demo" title="Permalink to this headline">¶</a></h2>
<div class="section" id="configuration-eigrp-ipv6">
<h3>Configuration EIGRP IPv6<a class="headerlink" href="#configuration-eigrp-ipv6" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Enable IPv6 routing on the routers.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 unicast-routing</span>
</pre></div>
</div>
</li>
<li><p class="first">Assign a router ID to each router.</p>
<ol class="loweralpha">
<li><p class="first">To begin the EIGRP for IPv6 routing configuration process, issue the ipv6 router eigrp 1 command, where 1 is the AS number.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
</pre></div>
</div>
</li>
<li><p class="first">EIGRP for IPv6 requires a 32-bit address for the router ID. Use the eigrp r outer-i d command to configure the router ID in the router configuration mode.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># eigrp router-id 1.1.1.1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># eigrp router-id 2.2.2.2</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># eigrp router-id 3.3.3.3</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p class="first">Enable EIGRP for IPv6 routing on each router</p>
<p>The IPv6 routing process is shut down by default. Issue the no shutdown command to enable EIGRP for IPv6 routing on all routers.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># no shutdown</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># no shutdown</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># no shutdown</span>
</pre></div>
</div>
</li>
<li><p class="first">Configure EIGRP for IPv6 using AS 1 on the Serial and Gigabit Ethernet interfaces on the routers.</p>
<ol class="loweralpha">
<li><p class="first">Issue the ipv6 eigrp 1 command on the interfaces that participate in the EIGRP routing process. The AS number is 1 as assigned in Step 2. The configuration for R1 is displayed below as an example.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface g0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 eigrp 1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># interface s0/0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 eigrp 1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># interface s0/0/1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 eigrp 1</span>
</pre></div>
</div>
</li>
<li><p class="first">Assign EIGRP participating interfaces on R2 and R3. You will see neighbor adjacency messages as interfaces are added to the EIGRP routing process. The messages on R1 are displayed below as an example.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span>R1(config-if)#
*Apr 12 00:25:49.183: %DUAL-5-NBRCHANGE: EIGRP-IPv6 1: Neighbor FE80::2 (Serial0/0/0) is up: new adjacency
*Apr 12 00:26:15.583: %DUAL-5-NBRCHANGE: EIGRP-IPv6 1: Neighbor FE80::3 (Serial0/0/1) is up: new adjacency
What address is used to indicate the neighbor in the adjacency messages?
</pre></div>
</div>
</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="verify-eigrp-ipv6-routing">
<h3>Verify EIGRP IPv6 Routing<a class="headerlink" href="#verify-eigrp-ipv6-routing" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Examine the neighbor adjacencies.</p>
<p>On R1, issue the show ipv6 eigrp neighbors command to verify that the adjacency has been established with its neighboring routers. The link-local addresses of the neighboring routers are displayed in the adjacency table.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ipv6 eigrp neighbors</span>
<span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="n">Neighbors</span> <span class="k">for</span> <span class="n">AS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">H</span>   <span class="n">Address</span>                                <span class="n">Interface</span>              <span class="n">Hold</span>   <span class="n">Uptime</span>   <span class="n">SRTT</span>  <span class="n">RTO</span>  <span class="n">Q</span>  <span class="n">Seq</span>
                                                                  <span class="p">(</span><span class="n">sec</span><span class="p">)</span>               <span class="p">(</span><span class="n">ms</span><span class="p">)</span>      <span class="n">Cnt</span> <span class="n">Num</span>
<span class="mi">1</span>   <span class="n">Link</span><span class="o">-</span><span class="n">local</span> <span class="n">address</span><span class="p">:</span>  <span class="n">Se0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>          <span class="mi">13</span>   <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">42</span>   <span class="mi">1</span>   <span class="mi">100</span>  <span class="mi">0</span>  <span class="mi">7</span>
    <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span>
<span class="mi">0</span>   <span class="n">Link</span><span class="o">-</span><span class="n">local</span> <span class="n">address</span><span class="p">:</span>  <span class="n">Se0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>        <span class="mi">13</span>   <span class="mi">00</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">09</span>   <span class="mi">12</span>  <span class="mi">100</span>  <span class="mi">0</span>  <span class="mi">9</span>
    <span class="n">FE80</span><span class="p">::</span><span class="mi">2</span>
</pre></div>
</div>
</li>
<li><p class="first">Examine the IPv6 EIGRP routing table.</p>
<p>Use the show ipv6 route eigrp command to display IPv6 specific EIGRP routes on all the routers.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ipv6 route eigrp</span>
<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Table</span> <span class="o">-</span> <span class="n">default</span> <span class="o">-</span> <span class="mi">10</span> <span class="n">entries</span>
<span class="n">Codes</span><span class="p">:</span> <span class="n">C</span> <span class="o">-</span> <span class="n">Connected</span><span class="p">,</span> <span class="n">L</span> <span class="o">-</span> <span class="n">Local</span><span class="p">,</span> <span class="n">S</span> <span class="o">-</span> <span class="n">Static</span><span class="p">,</span> <span class="n">U</span> <span class="o">-</span> <span class="n">Per</span><span class="o">-</span><span class="n">user</span> <span class="n">Static</span> <span class="n">route</span>
     <span class="n">B</span> <span class="o">-</span> <span class="n">BGP</span><span class="p">,</span> <span class="n">R</span> <span class="o">-</span> <span class="n">RIP</span><span class="p">,</span> <span class="n">I1</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">L1</span><span class="p">,</span> <span class="n">I2</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">L2</span>
     <span class="n">IA</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">interarea</span><span class="p">,</span> <span class="n">IS</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">summary</span><span class="p">,</span> <span class="n">D</span> <span class="o">-</span> <span class="n">EIGRP</span><span class="p">,</span> <span class="n">EX</span> <span class="o">-</span> <span class="n">EIGRP</span> <span class="n">external</span>
     <span class="n">ND</span> <span class="o">-</span> <span class="n">ND</span> <span class="n">Default</span><span class="p">,</span> <span class="n">NDp</span> <span class="o">-</span> <span class="n">ND</span> <span class="n">Prefix</span><span class="p">,</span> <span class="n">DCE</span> <span class="o">-</span> <span class="n">Destination</span><span class="p">,</span> <span class="n">NDr</span> <span class="o">-</span> <span class="n">Redirect</span>
     <span class="n">O</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">Intra</span><span class="p">,</span> <span class="n">OI</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">Inter</span><span class="p">,</span> <span class="n">OE1</span> <span class="o">-</span>  <span class="n">OSPF</span> <span class="n">ext</span> <span class="mi">1</span><span class="p">,</span> <span class="n">OE2</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">ext</span> <span class="mi">2</span>
     <span class="n">ON1</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">NSSA</span> <span class="n">ext</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ON2</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">NSSA</span> <span class="n">ext</span> <span class="mi">2</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">ACAD</span><span class="p">:</span><span class="n">B</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2172416</span><span class="p">]</span>
<span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">2</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">ACAD</span><span class="p">:</span><span class="n">C</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2172416</span><span class="p">]</span>
<span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">D</span>   <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">ACAD</span><span class="p">:</span><span class="mi">23</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2681856</span><span class="p">]</span>
<span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">2</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p class="first">Examine the EIGRP topology.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ipv6 eigrp topology</span>
<span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="n">Topology</span> <span class="n">Table</span> <span class="k">for</span> <span class="n">AS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">ID</span><span class="p">(</span><span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span><span class="p">)</span>
<span class="n">Codes</span><span class="p">:</span> <span class="n">P</span> <span class="o">-</span> <span class="n">Passive</span><span class="p">,</span> <span class="n">A</span> <span class="o">-</span> <span class="n">Active</span><span class="p">,</span> <span class="n">U</span> <span class="o">-</span> <span class="n">Update</span><span class="p">,</span> <span class="n">Q</span> <span class="o">-</span> <span class="n">Query</span><span class="p">,</span> <span class="n">R</span> <span class="o">-</span> <span class="n">Reply</span><span class="p">,</span>
     <span class="n">r</span> <span class="o">-</span> <span class="n">reply</span> <span class="n">Status</span><span class="p">,</span> <span class="n">s</span> <span class="o">-</span> <span class="n">sia</span> <span class="n">Status</span>

<span class="n">P</span> <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">ACAD</span><span class="p">:</span><span class="n">A</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">28160</span>
          <span class="n">via</span> <span class="n">Connected</span><span class="p">,</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">P</span> <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">ACAD</span><span class="p">:</span><span class="n">C</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">2172416</span>
          <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span> <span class="p">(</span><span class="mi">2172416</span><span class="o">/</span><span class="mi">28160</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">P</span> <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">ACAD</span><span class="p">:</span><span class="mi">12</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">2169856</span>
          <span class="n">via</span> <span class="n">Connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">P</span> <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">ACAD</span><span class="p">:</span><span class="n">B</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">2172416</span>
          <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">2</span> <span class="p">(</span><span class="mi">2172416</span><span class="o">/</span><span class="mi">28160</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">P</span> <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">ACAD</span><span class="p">:</span><span class="mi">23</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span><span class="p">,</span> <span class="mi">2</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">2681856</span>
          <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">2</span> <span class="p">(</span><span class="mi">2681856</span><span class="o">/</span><span class="mi">2169856</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
          <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span> <span class="p">(</span><span class="mi">2681856</span><span class="o">/</span><span class="mi">2169856</span><span class="p">),</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">P</span> <span class="mi">2001</span><span class="p">:</span><span class="n">DB8</span><span class="p">:</span><span class="n">ACAD</span><span class="p">:</span><span class="mi">13</span><span class="p">::</span><span class="o">/</span><span class="mi">64</span><span class="p">,</span> <span class="mi">1</span> <span class="n">successors</span><span class="p">,</span> <span class="n">FD</span> <span class="ow">is</span> <span class="mi">2169856</span>
          <span class="n">via</span> <span class="n">Connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p class="first">Verify the parameters and current state of the active IPv6 routing protocol processes.</p>
<p>Issue the <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">ipv6</span> <span class="pre">protocols</span></code> command to verify the configured parameter. From the output, EIGRP is the configured IPv6 routing protocol with 1.1.1.1 as the router ID for R1. This routing protocol is associated with autonomous system 1 with three active interfaces: G0/0, S0/0/0, and S0/0/1.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ipv6 protocols</span>
<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;connected&quot;</span>
<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;ND&quot;</span>
<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;eigrp 1&quot;</span>
<span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="n">Protocol</span> <span class="k">for</span> <span class="n">AS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">Metric</span> <span class="n">weight</span> <span class="n">K1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">K3</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">K4</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">K5</span><span class="o">=</span><span class="mi">0</span>
  <span class="n">NSF</span><span class="o">-</span><span class="n">aware</span> <span class="n">route</span> <span class="n">hold</span> <span class="n">timer</span> <span class="ow">is</span> <span class="mi">240</span>
  <span class="n">Router</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span>
  <span class="n">Topology</span> <span class="p">:</span> <span class="mi">0</span> <span class="p">(</span><span class="n">base</span><span class="p">)</span>
    <span class="n">Active</span> <span class="n">Timer</span><span class="p">:</span> <span class="mi">3</span> <span class="nb">min</span>
    <span class="n">Distance</span><span class="p">:</span> <span class="n">internal</span> <span class="mi">90</span> <span class="n">external</span> <span class="mi">170</span>
    <span class="n">Maximum</span> <span class="n">path</span><span class="p">:</span> <span class="mi">16</span>
    <span class="n">Maximum</span> <span class="n">hopcount</span> <span class="mi">100</span>
    <span class="n">Maximum</span> <span class="n">metric</span> <span class="n">variance</span> <span class="mi">1</span>

  <span class="n">Interfaces</span><span class="p">:</span>
    <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span>
    <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
    <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
  <span class="n">Redistribution</span><span class="p">:</span>
    <span class="kc">None</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="configure-n-verify-passive-ifs">
<h3>Configure n Verify Passive IFs<a class="headerlink" href="#configure-n-verify-passive-ifs" title="Permalink to this headline">¶</a></h3>
<p>A passive interface does not allow outgoing and incoming routing updates over the configured interface. The <code class="docutils literal notranslate"><span class="pre">passive-interface</span> <span class="pre">interface</span></code> command causes the router to stop sending and receiving Hello packets over an interface.</p>
<ol class="arabic">
<li><p class="first">Configure interface G0/0 as passive on R1 and R2.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># passive-interface g0/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># passive-interface g0/0</span>
</pre></div>
</div>
</li>
<li><p class="first">Verify the passive interface configuration</p>
<p>Issue the <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">ipv6</span> <span class="pre">protocols</span></code> command on R1 and verify that G0/0 has been configured as passive.</p>
<blockquote>
<div><div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ipv6 protocols</span>
<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;connected&quot;</span>
<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;ND&quot;</span>
<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Protocol</span> <span class="ow">is</span> <span class="s2">&quot;eigrp 1&quot;</span>
<span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="n">Protocol</span> <span class="k">for</span> <span class="n">AS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">Metric</span> <span class="n">weight</span> <span class="n">K1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">K3</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">K4</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">K5</span><span class="o">=</span><span class="mi">0</span>
  <span class="n">NSF</span><span class="o">-</span><span class="n">aware</span> <span class="n">route</span> <span class="n">hold</span> <span class="n">timer</span> <span class="ow">is</span> <span class="mi">240</span>
  <span class="n">Router</span><span class="o">-</span><span class="n">ID</span><span class="p">:</span> <span class="mf">1.1</span><span class="o">.</span><span class="mf">1.1</span>
  <span class="n">Topology</span> <span class="p">:</span> <span class="mi">0</span> <span class="p">(</span><span class="n">base</span><span class="p">)</span>
    <span class="n">Active</span> <span class="n">Timer</span><span class="p">:</span> <span class="mi">3</span> <span class="nb">min</span>
    <span class="n">Distance</span><span class="p">:</span> <span class="n">internal</span> <span class="mi">90</span> <span class="n">external</span> <span class="mi">170</span>
    <span class="n">Maximum</span> <span class="n">path</span><span class="p">:</span> <span class="mi">16</span>
    <span class="n">Maximum</span> <span class="n">hopcount</span> <span class="mi">100</span>
    <span class="n">Maximum</span> <span class="n">metric</span> <span class="n">variance</span> <span class="mi">1</span>

  <span class="n">Interfaces</span><span class="p">:</span>
    <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
    <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
    <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span> <span class="p">(</span><span class="n">passive</span><span class="p">)</span>
  <span class="n">Redistribution</span><span class="p">:</span>
    <span class="kc">None</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Configure the G0/0 passive IF on R3</p>
</li>
</ol>
<p>If a few interfaces are configured as passive, use the <code class="docutils literal notranslate"><span class="pre">passive-interface</span> <span class="pre">default</span></code> command to configure all the interfaces on the router as passive. Use the <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">passive-interface</span> <span class="pre">interface</span></code> command to allow EIGRP Hello messages in and out of the router interface.</p>
<blockquote>
<div><ol class="loweralpha">
<li><p class="first">Configure all interfaces as passive on R3.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># passive-interface default</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1">#</span>
<span class="o">*</span> <span class="n">Apr</span> <span class="mi">13</span> <span class="mi">00</span><span class="p">:</span><span class="mi">07</span><span class="p">:</span><span class="mf">03.267</span><span class="p">:</span> <span class="o">%</span><span class="n">DUAL</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="n">NBRCHANGE</span><span class="p">:</span> <span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Neighbor</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">1</span> <span class="p">(</span><span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="n">down</span><span class="p">:</span> <span class="n">interface</span> <span class="n">passive</span>
<span class="o">*</span> <span class="n">Apr</span> <span class="mi">13</span> <span class="mi">00</span><span class="p">:</span><span class="mi">07</span><span class="p">:</span><span class="mf">03.267</span><span class="p">:</span> <span class="o">%</span><span class="n">DUAL</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="n">NBRCHANGE</span><span class="p">:</span> <span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Neighbor</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">2</span> <span class="p">(</span><span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">down</span><span class="p">:</span> <span class="n">interface</span> <span class="n">passive</span>
</pre></div>
</div>
</li>
<li><p class="first">After you have issued the <code class="docutils literal notranslate"><span class="pre">passive-interface</span> <span class="pre">default</span></code> command, R3 no longer participates in the routing process. What command can you use to verify it?</p>
<p>show ipv6 route eigrp or show ipv6 route</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R3</span><span class="c1"># show ipv6 route eigrp</span>
<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Table</span> <span class="o">-</span> <span class="n">default</span> <span class="o">-</span> <span class="mi">7</span> <span class="n">entries</span>
<span class="n">Codes</span><span class="p">:</span> <span class="n">C</span> <span class="o">-</span> <span class="n">Connected</span><span class="p">,</span> <span class="n">L</span> <span class="o">-</span> <span class="n">Local</span><span class="p">,</span> <span class="n">S</span> <span class="o">-</span> <span class="n">Static</span><span class="p">,</span> <span class="n">U</span> <span class="o">-</span> <span class="n">Per</span><span class="o">-</span><span class="n">user</span> <span class="n">Static</span> <span class="n">route</span>
       <span class="n">B</span> <span class="o">-</span> <span class="n">BGP</span><span class="p">,</span> <span class="n">R</span> <span class="o">-</span> <span class="n">RIP</span><span class="p">,</span> <span class="n">I1</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">L1</span><span class="p">,</span> <span class="n">I2</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">L2</span>
       <span class="n">IA</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">interarea</span><span class="p">,</span> <span class="n">IS</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">summary</span><span class="p">,</span> <span class="n">D</span> <span class="o">-</span> <span class="n">EIGRP</span><span class="p">,</span> <span class="n">EX</span> <span class="o">-</span> <span class="n">EIGRP</span> <span class="n">external</span>
       <span class="n">ND</span> <span class="o">-</span> <span class="n">ND</span> <span class="n">Default</span><span class="p">,</span> <span class="n">NDp</span> <span class="o">-</span> <span class="n">ND</span> <span class="n">Prefix</span><span class="p">,</span> <span class="n">DCE</span> <span class="o">-</span> <span class="n">Destination</span><span class="p">,</span> <span class="n">NDr</span> <span class="o">-</span> <span class="n">Redirect</span>
       <span class="n">O</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">Intra</span><span class="p">,</span> <span class="n">OI</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">Inter</span><span class="p">,</span> <span class="n">OE1</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">ext</span> <span class="mi">1</span><span class="p">,</span> <span class="n">OE2</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">ext</span> <span class="mi">2</span>
       <span class="n">ON1</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">NSSA</span> <span class="n">ext</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ON2</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">NSSA</span> <span class="n">ext</span> <span class="mi">2</span>
</pre></div>
</div>
</li>
<li><p class="first">What command can you use to display the passive interfaces on R3?</p>
</li>
<li><p class="first">Configure the serial interfaces to participate in the routing process.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 1</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># no passive-interface s0/0/0</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># no passive-interface s0/0/1</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1">#</span>
 <span class="n">Apr</span> <span class="mi">13</span> <span class="mi">00</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mf">23.807</span><span class="p">:</span> <span class="o">%</span><span class="n">DUAL</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="n">NBRCHANGE</span><span class="p">:</span> <span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Neighbor</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">1</span> <span class="p">(</span><span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="n">up</span><span class="p">:</span> <span class="n">new</span> <span class="n">adjacency</span>
 <span class="n">Apr</span> <span class="mi">13</span> <span class="mi">00</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mf">25.567</span><span class="p">:</span> <span class="o">%</span><span class="n">DUAL</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="n">NBRCHANGE</span><span class="p">:</span> <span class="n">EIGRP</span><span class="o">-</span><span class="n">IPv6</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Neighbor</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">2</span> <span class="p">(</span><span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">up</span><span class="p">:</span> <span class="n">new</span> <span class="n">adjacency</span>
</pre></div>
</div>
</li>
<li><p class="first">The neighbor relationships have been established again with R1 and R2. Verify that only G0/0 has been configured as passive. What command do you use to verify the passive interface?</p>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="reflection">
<h3>Reflection<a class="headerlink" href="#reflection" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Where would you configure passive interfaces?  Why?</li>
<li>What are some advantages with using EIGRP as the routing protocol in your network?</li>
</ol>
</div>
</div>
<div class="section" id="summary-route-null0-if">
<h2>Summary Route Null0 IF<a class="headerlink" href="#summary-route-null0-if" title="Permalink to this headline">¶</a></h2>
<p>A problem associated with automatic route summarization is that a summary address also advertises networks which are not available on the advertising router. For instance, R1 is advertising the summary address of 172.16.0.0/16 but it is really only connected to the 172.16.1.0/24, 172.16.2.0/24, and 172.16.3.0/30 subnets. Therefore, R1 may receive incoming packets to destinations that do not exist. This could be a problem if R1 had a default gateway configured, as it would in turn forward a request to a destination that does not exist.</p>
<p>EIGRP avoids this problem by adding a network route for the classful network route to the routing table. This network entry routes packets to a Null interface. The Null0 interface, commonly known as “the bit bucket”, is a virtual IOS interface that is a route to nowhere. Packets that match a route with a Null0 exit interface are discarded.</p>
<div class="section" id="automatic-summarization-disabled">
<h3>Automatic summarization disabled<a class="headerlink" href="#automatic-summarization-disabled" title="Permalink to this headline">¶</a></h3>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R3</span><span class="c1"># show ip route eigrp</span>

 <span class="mf">172.16</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span> <span class="ow">is</span> <span class="n">variably</span> <span class="n">subnetted</span><span class="p">,</span> <span class="mi">3</span> <span class="n">subnets</span><span class="p">,</span> <span class="mi">2</span> <span class="n">masks</span>
<span class="n">D</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2170112</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.5</span><span class="p">,</span>
                <span class="mi">02</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">D</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">2.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3012096</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.9</span><span class="p">,</span>
                <span class="mi">02</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">D</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">30</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">41024000</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.9</span><span class="p">,</span>
                <span class="mi">02</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
                <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">41024000</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.5</span><span class="p">,</span>
                <span class="mi">02</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">R3</span><span class="c1">#</span>
</pre></div>
</div>
</div>
<div class="section" id="automatic-summarization-enabled">
<h3>Automatic summarization enabled<a class="headerlink" href="#automatic-summarization-enabled" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">it is recommended to disable the default of auto summary immediately</p>
</div>
<p>image below is an example of R2 thinking it needs to do equal cost LB due to clasfull boundary summarization of 10.0.0.0/8 NWs on R1 and R3 who then advertize the summarized route to R2</p>
<img alt="../../../_images/6_eigrp_autosumm_issue.png" src="../../../_images/6_eigrp_autosumm_issue.png" />
<p>so to fix this you need to type router eigrp #as followed by <code class="docutils literal notranslate"><span class="pre">Rx(router-config)</span> <span class="pre">no</span> <span class="pre">auto-summary</span></code></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">null0 in the routing table shows auto summary is enabled</p>
</div>
<img alt="../../../_images/6_eigrp_autosumm_issuefix.png" src="../../../_images/6_eigrp_autosumm_issuefix.png" />
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ip route</span>

  <span class="mf">172.16</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span> <span class="ow">is</span> <span class="n">variably</span> <span class="n">subnetted</span><span class="p">,</span> <span class="mi">6</span> <span class="n">subnets</span><span class="p">,</span> <span class="mi">4</span> <span class="n">masks</span>
<span class="n">D</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">summary</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">06</span><span class="p">,</span> <span class="n">Null0</span>
<span class="n">C</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">L</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">1.1</span><span class="o">/</span><span class="mi">32</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">D</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">2.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">40512256</span><span class="p">]</span> <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.2</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">52</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">C</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">30</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">L</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span><span class="o">/</span><span class="mi">32</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">D</span>  <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2170112</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.6</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">51</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
   <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.0</span><span class="o">/</span><span class="mi">24</span> <span class="ow">is</span> <span class="n">variably</span> <span class="n">subnetted</span><span class="p">,</span> <span class="mi">4</span> <span class="n">subnets</span><span class="p">,</span> <span class="mi">3</span> <span class="n">masks</span>
<span class="n">D</span>  <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.0</span><span class="o">/</span><span class="mi">24</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">summary</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">52</span><span class="p">,</span> <span class="n">Null0</span>
<span class="n">C</span>  <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.4</span><span class="o">/</span><span class="mi">30</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">D</span>  <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.8</span><span class="o">/</span><span class="mi">30</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3523840</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.6</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">59</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">R1</span><span class="c1">#</span>
</pre></div>
</div>
<p>summary routes for 172.16.0.0/16 and 192.168.10.0/24 to Null0. If R1 receives a packet destined to a network that is advertised by the classful mask but does not exist, it will discard the packet and send a notification message back to the source.</p>
<dl class="docutils">
<dt>EIGRP for IPv4 automatically includes a Null0 summary route whenever the following conditions exist:</dt>
<dd><ul class="first last simple">
<li>Automatic summarization is enabled.</li>
<li>There is at least one subnet that was learned via EIGRP.</li>
<li>There are two or more network EIGRP router configuration mode commands.</li>
</ul>
</dd>
</dl>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ip route</span>

  <span class="mf">172.16</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span> <span class="ow">is</span> <span class="n">variably</span> <span class="n">subnetted</span><span class="p">,</span> <span class="mi">6</span> <span class="n">subnets</span><span class="p">,</span> <span class="mi">4</span> <span class="n">masks</span>
<span class="n">D</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">summary</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">06</span><span class="p">,</span> <span class="n">Null0</span>
<span class="n">C</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">L</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">1.1</span><span class="o">/</span><span class="mi">32</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">D</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">2.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">40512256</span><span class="p">]</span> <span class="n">via</span> <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.2</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">52</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">C</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">30</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">L</span>  <span class="mf">172.16</span><span class="o">.</span><span class="mf">3.1</span><span class="o">/</span><span class="mi">32</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span>
<span class="n">D</span>  <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">24</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">2170112</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.6</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">51</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
   <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.0</span><span class="o">/</span><span class="mi">24</span> <span class="ow">is</span> <span class="n">variably</span> <span class="n">subnetted</span><span class="p">,</span> <span class="mi">4</span> <span class="n">subnets</span><span class="p">,</span> <span class="mi">3</span> <span class="n">masks</span>
<span class="n">D</span>  <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.0</span><span class="o">/</span><span class="mi">24</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">summary</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">52</span><span class="p">,</span> <span class="n">Null0</span>
<span class="n">C</span>  <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.4</span><span class="o">/</span><span class="mi">30</span> <span class="ow">is</span> <span class="n">directly</span> <span class="n">connected</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">D</span>  <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.8</span><span class="o">/</span><span class="mi">30</span> <span class="p">[</span><span class="mi">90</span><span class="o">/</span><span class="mi">3523840</span><span class="p">]</span> <span class="n">via</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">10.6</span><span class="p">,</span> <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">59</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">R1</span><span class="c1">#</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="summarization-routing-loops">
<h2>Summarization Routing Loops<a class="headerlink" href="#summarization-routing-loops" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_routing_loop_summarization.png" src="../../../_images/6_eigrp_routing_loop_summarization.png" />
<ol class="arabic simple">
<li>R1 has a default route, 0.0.0.0/0 via the ISP router.</li>
<li>R1 sends a routing update to R2 containing the default route.</li>
<li>R2 installs the default route from R1 in its IPv4 routing table.</li>
<li>R2’s routing table contains the 172.16.1.0/24, 172.16.2.0/24, and 172.16.3.0/24 subnets in its routing table.</li>
<li>R2 sends a summarized update to R1 for the 172.16.0.0/16 network.</li>
<li>R1 installs the summarized route for 172.16.0.0/16 via R2.</li>
<li>R1 receives a packet for 172.16.4.10. Because R1 has a route for 172.16.0.0/16 via R2, it forwards the packet to R2.</li>
<li>R2 receives the packet with the destination address 172.16.4.10 from R1. The packet does not match any specific route so using the default route in its routing table R2 forwards the packet back to R1.</li>
<li>The packet for 172.16.4.10 loops between R1 and R2 until the TTL expires and the packet is dropped.</li>
</ol>
<img alt="../../../_images/6_eigrp_null0_route_2_prevent_loop.png" src="../../../_images/6_eigrp_null0_route_2_prevent_loop.png" />
<p>Even if R2 has a default route of 0.0.0.0/0 in its routing table, the Null0 route is a longer match.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Null0 summary route is removed when autosummarization is disabled using the no auto-summary router configuration mode command.</p>
</div>
</div>
<div class="section" id="propagating-a-default-route">
<h2>propagating a default route<a class="headerlink" href="#propagating-a-default-route" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_propagate_default_static.png" src="../../../_images/6_eigrp_propagate_default_static.png" />
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ip route 0.0.0.0 0.0.0.0 serial 0/1/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># redistribute static</span>

<span class="n">verify</span> <span class="k">with</span>
<span class="n">R2</span><span class="c1"># show ip protocols</span>
<span class="n">Redistributing</span><span class="p">:</span> <span class="n">static</span>
</pre></div>
</div>
</div>
<div class="section" id="default-routes-ipv6">
<h2>default routes ipv6<a class="headerlink" href="#default-routes-ipv6" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_ipv6_defaults1.png" src="../../../_images/6_eigrp_ipv6_defaults1.png" />
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 route ::/0 serial 0/1/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># ipv6 router eigrp 2</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">rtr</span><span class="p">)</span><span class="c1"># redistribute static</span>
</pre></div>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="c1"># show ipv6 route</span>
<span class="n">IPv6</span> <span class="n">Routing</span> <span class="n">Table</span> <span class="o">-</span> <span class="n">default</span> <span class="o">-</span> <span class="mi">12</span> <span class="n">entries</span>
<span class="n">Codes</span><span class="p">:</span>  <span class="n">C</span> <span class="o">-</span> <span class="n">Connected</span><span class="p">,</span> <span class="n">L</span> <span class="o">-</span> <span class="n">Local</span><span class="p">,</span> <span class="n">S</span> <span class="o">-</span> <span class="n">Static</span><span class="p">,</span>
     <span class="n">U</span> <span class="o">-</span> <span class="n">Per</span><span class="o">-</span><span class="n">user</span> <span class="n">Static</span> <span class="n">route</span>
     <span class="n">B</span> <span class="o">-</span> <span class="n">BGP</span><span class="p">,</span> <span class="n">R</span> <span class="o">-</span> <span class="n">RIP</span><span class="p">,</span> <span class="n">I1</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">L1</span><span class="p">,</span> <span class="n">I2</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">L2</span>
     <span class="n">IA</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">interarea</span><span class="p">,</span> <span class="n">IS</span> <span class="o">-</span> <span class="n">ISIS</span> <span class="n">summary</span><span class="p">,</span> <span class="n">D</span> <span class="o">-</span> <span class="n">EIGRP</span><span class="p">,</span> <span class="n">EX</span> <span class="o">-</span> <span class="n">EIGRP</span> <span class="n">external</span>
     <span class="n">ND</span> <span class="o">-</span> <span class="n">ND</span> <span class="n">Default</span><span class="p">,</span> <span class="n">NDp</span> <span class="o">-</span> <span class="n">ND</span> <span class="n">Prefix</span><span class="p">,</span> <span class="n">DCE</span> <span class="o">-</span> <span class="n">Destination</span><span class="p">,</span> <span class="n">NDr</span> <span class="o">-</span> <span class="n">Redirect</span>
     <span class="n">O</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">Intra</span><span class="p">,</span> <span class="n">OI</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">Inter</span><span class="p">,</span> <span class="n">OE1</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">ext</span> <span class="mi">1</span><span class="p">,</span> <span class="n">OE2</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">ext</span> <span class="mi">2</span>
     <span class="n">ON1</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">NSSA</span> <span class="n">ext</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ON2</span> <span class="o">-</span> <span class="n">OSPF</span> <span class="n">NSSA</span> <span class="n">ext</span> <span class="mi">2</span>
<span class="n">EX</span> <span class="p">::</span><span class="o">/</span><span class="mi">0</span> <span class="p">[</span><span class="mi">170</span><span class="o">/</span><span class="mi">3523840</span><span class="p">]</span>
     <span class="n">via</span> <span class="n">FE80</span><span class="p">::</span><span class="mi">3</span><span class="p">,</span> <span class="n">Serial0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="tuning-bandwidth">
<h2>tuning bandwidth<a class="headerlink" href="#tuning-bandwidth" title="Permalink to this headline">¶</a></h2>
<p>Router(config-if)# <code class="docutils literal notranslate"><span class="pre">ip</span> <span class="pre">bandwidth-percent</span> <span class="pre">eigrp</span> <span class="pre">as-number</span> <span class="pre">percent</span></code>
Router(config-if)# <code class="docutils literal notranslate"><span class="pre">ipv6</span> <span class="pre">bandwidth-percent</span> <span class="pre">eigrp</span> <span class="pre">as-number</span> <span class="pre">percent</span></code></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface serial 0/0/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 bandwidth-percent eigrp 2 40</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1">#</span>
</pre></div>
</div>
</div>
<div class="section" id="tuning-hello-n-hold-timers">
<h2>tuning hello n hold timers<a class="headerlink" href="#tuning-hello-n-hold-timers" title="Permalink to this headline">¶</a></h2>
<p>default 1.544 Mbps = 60s hello 180s hold
default greater    =  5s hello  15s hold</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># interface s0/0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hello-interval eigrp 1 50</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hold-time eigrp 1 150</span>

<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># inter serial 0/0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 hello-interval eigrp 2 50</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ipv6 hold-time eigrp 2 150</span>
</pre></div>
</div>
<p>use the <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">ip</span> <span class="pre">eigrp</span> <span class="pre">interfaces</span> <span class="pre">detail</span></code> command to view the hello interval and hold timer for EIGRP.</p>
<p>R2# show ip eigrp interfaces detail</p>
</div>
<div class="section" id="load-balancing">
<h2>load balancing<a class="headerlink" href="#load-balancing" title="Permalink to this headline">¶</a></h2>
<p>Cisco IOS, by default, allows load balancing using up to <code class="docutils literal notranslate"><span class="pre">four</span> <span class="pre">equal-cost</span> <span class="pre">paths</span></code>; however, this can be modified. Using the maximum-paths router configuration mode command, <code class="docutils literal notranslate"><span class="pre">up</span> <span class="pre">to</span> <span class="pre">32</span> <span class="pre">equal-cost</span> <span class="pre">routes</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">kept</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">routing</span> <span class="pre">table</span></code></p>
<div class="section" id="unequal-cost-load-balancing">
<h3>Unequal-Cost Load Balancing<a class="headerlink" href="#unequal-cost-load-balancing" title="Permalink to this headline">¶</a></h3>
<img alt="../../../_images/6_eigrp_variance_example.png" src="../../../_images/6_eigrp_variance_example.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">variance condition is met. However the link between R5 and R3 has an AD of 25 and that AD is bigger than the FS of 20 so this route cannot take part in the unequal cost load balancing!</p>
</div>
<p>EIGRP for IPv4 and IPv6 can also balance traffic across multiple routes that have different metrics. This type of balancing is called unequal-cost load balancing.
Setting a value using the <code class="docutils literal notranslate"><span class="pre">variance</span></code> command in router configuration mode enables EIGRP to install multiple loop-free routes with unequal cost in a local routing table.</p>
<dl class="docutils">
<dt>A route learned through EIGRP must meet two criteria to be installed in the local routing table:</dt>
<dd>The route must be loop-free, being either a feasible successor or having a reported distance that is less than the total distance.
The metric of the route must be lower than the metric of the best route (the successor) multiplied by the variance configured on the router.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if the variance is set to 1, only routes with the same metric as the successor are installed in the local routing table. If the variance is set to 2, any EIGRP-learned route with a metric less than 2 times the successor metric will be installed in the local routing table.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To control how trafﬁc is distributed among routes when there are multiple routes for the same destination network that have different costs, use the <code class="docutils literal notranslate"><span class="pre">trafﬁc-share</span> <span class="pre">balanced</span></code> command. Trafﬁc is then distributed proportionately to the ratio of the costs.</p>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># maximum-paths 4</span>

<span class="n">to</span> <span class="n">see</span> <span class="n">what</span> <span class="n">maximum</span> <span class="n">path</span> <span class="ow">is</span>
<span class="n">R3</span><span class="c1"># show ip protocols</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">maximum-paths 1 = LB is disabled</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">you will see 1 route with 2 via statements when load balancing in the routing table</p>
</div>
<ol class="arabic simple">
<li>create a keychain
- group of possible keys</li>
<li>Assign a key ID to each key (both sides need same combo)</li>
<li>Configure a key string</li>
<li>Optionally specify the duration the key is valid</li>
<li>Enable MD5 authentication on the interface</li>
<li>Specify what keychain the interface will use</li>
</ol>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span>R1(config)# key chain R1keychain
R1(config-keychain) key 1
both passphrase and key id will be hashed!
R1(config-keychain-key)# key-string password
R1(config-keychain-key)# interface S1/0
R1(config-if)# ip authentication mode eigrp 100 md5
R1(config-if)# ip authentication key-chain eigrp 100 R1keychain
repeat on R2 with same key 1 and passphrase password

R1# show key chain
key-chain R1keychain:
    key 1 -- text &quot;password&quot;
        accept lifetime (always valid) - (always valid) [valid now]
        send lifetime (always valid) - (always valid) [valid now]
</pre></div>
</div>
</div>
</div>
<div class="section" id="exercise-example-for-ipv4-no1">
<h2>exercise example for ipv4 No1<a class="headerlink" href="#exercise-example-for-ipv4-no1" title="Permalink to this headline">¶</a></h2>
<img alt="../../../_images/6_eigrp_exercise_example_ipv4_1.png" src="../../../_images/6_eigrp_exercise_example_ipv4_1.png" />
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="20%" />
<col width="21%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Device</th>
<th class="head">Interface</th>
<th class="head">IP Address</th>
<th class="head">Subnet Mask</th>
<th class="head">Default Gateway</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>R1</td>
<td>G0/0</td>
<td>192.168.1.1</td>
<td>255.255.255.0</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>S0/0/0 (DCE)</td>
<td>192.168.12.1</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>S0/0/1</td>
<td>192.168.13.1</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>Lo1</td>
<td>192.168.11.1</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>Lo5</td>
<td>192.168.11.5</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>Lo9</td>
<td>192.168.11.9</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>Lo13</td>
<td>192.168.11.13</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>R2</td>
<td>G0/0</td>
<td>192.168.2.1</td>
<td>255.255.255.0</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>S0/0/0</td>
<td>192.168.12.2</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>S0/0/1 (DCE)</td>
<td>192.168.23.1</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>Lo1</td>
<td>192.168.22.1</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>R3</td>
<td>G0/0</td>
<td>192.168.3.1</td>
<td>255.255.255.0</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>S0/0/0 (DCE)</td>
<td>192.168.13.2</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>S0/0/1</td>
<td>192.168.23.2</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>Lo1</td>
<td>192.168.33.1</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>Lo5</td>
<td>192.168.33.5</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>Lo9</td>
<td>192.168.33.9</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>Lo13</td>
<td>192.168.33.13</td>
<td>255.255.255.252</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>PC-A</td>
<td>NIC</td>
<td>192.168.1.3</td>
<td>255.255.255.0</td>
<td>192.168.1.1</td>
</tr>
<tr class="row-odd"><td>PC-B</td>
<td>NIC</td>
<td>192.168.2.3</td>
<td>255.255.255.0</td>
<td>192.168.2.1</td>
</tr>
<tr class="row-even"><td>PC-C</td>
<td>NIC</td>
<td>192.168.3.3</td>
<td>255.255.255.0</td>
<td>192.168.3.1</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Objectives</dt>
<dd><ol class="first last arabic simple">
<li>Build the Network and Configure Basic Device Settings</li>
<li>Configure EIGRP and Verify Connectivity</li>
<li>Configure EIGRP for Automatic Summarization</li>
<li>Configure and Propagate a Default Static Route</li>
<li>Fine-Tune EIGRP
+ Configure bandwidth utilization for EIGRP
+ Configure the hello interval and hold timer for EIGRP</li>
</ol>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The bandwidth command only affect s the EIGRP metric calculation, not the actual bandwi dth of the serial link</p>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Router</span> <span class="n">R1</span>

<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.1.0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.12.0 0.0.0.3</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.13.0 0.0.0.3</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.11.0 0.0.0.3</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.11.4 0.0.0.3</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.11.8 0.0.0.3</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.11.12 0.0.0.3</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># passive-interface g0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># auto-summary</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># int s0/0/0</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># bandwidth 1024</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip bandwidth-percent eigrp 1 75</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hello-interval eigrp 1 60</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hold- time eigrp 1 180</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># int s0/0/1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># bandwidth 64</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip bandwidth-percent eigrp 1 40</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hello-interval eigrp 1 60</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hold-time eigrp 1 180</span>
</pre></div>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Router</span> <span class="n">R2</span>

<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.2.0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.12.0 0.0.0.3</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.23.0 0.0.0.3</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># passive-interface g0/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># redistribute static</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># int s0/0/0</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># bandwidth 1024</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip bandwidth-percent eigrp 1 75</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hello-interval eigrp 1 60</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hold-time eigrp 1 180</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># int s0/0/1</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hello-interval eigrp 1 60</span>
<span class="n">R2</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hold-time eigrp 1 180</span>
</pre></div>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Router</span> <span class="n">R3</span>

<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp 1</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.3.0</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.13.0 0.0.0.3</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.23.0 0.0.0.3</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.33.0 0.0.0.3</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.33.4 0.0.0.3</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.33.8 0.0.0.3</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># network 192.168.33.12 0.0.0.3</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># passive-interface g0/0</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># auto-summary</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># int s0/0/0</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># bandwidth 64</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip bandwidth-percent eigrp 1 40</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hello-interval eigrp 1 60</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hold-time eigrp 1 180</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># int s0/0/1</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hello-interval eigrp 1 60</span>
<span class="n">R3</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="k">if</span><span class="p">)</span><span class="c1"># ip hold-time eigrp 1 180</span>
</pre></div>
</div>
</div>
<div class="section" id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<p>show ip eigrp topology</p>
<blockquote>
<div><ul class="simple">
<li>passive state = nw’s are functioning and maintaining active adjacency with eg R1</li>
<li>active state = actively looking for a replacement route to that network</li>
</ul>
</div></blockquote>
<p>Disable automatic summarizationThe topology contains discontiguous networks. Therefore, disable automatic summarization on each router.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A Discontiguous Network topology is where you have some network (perhaps network 172.16.0.0) that is divided in two parts (perhaps 172.16.0.0 through 172.16.100.0 and 172.16.101.0 through 172.16.200.0) and to go from one part to the other part you must go through some other different network (perhaps 192.168.1.0).</p>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># no auto-summary</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Prior to IOS 15 auto-summary had to be manually disabled.</p>
</div>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># router eigrp autonomous-system</span>
<span class="n">R</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="c1"># no router eigrp autonomous-system</span>
<span class="n">R</span><span class="c1"># show ip eigrp neighbors</span>
<span class="n">R</span><span class="c1"># show ip eigrp topology</span>
<span class="n">R</span><span class="c1"># show ip protocols</span>
<span class="n">R2</span><span class="c1"># show running-config | section eigrp 1</span>
<span class="n">R1</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># passive-interface gigabitethernet 0/0</span>
<span class="n">R</span><span class="c1"># debug eigrp fsm (finite state machine)</span>
<span class="n">R</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># eigrp log-neighbor-changes</span>
<span class="n">Router</span><span class="p">(</span><span class="n">config</span><span class="o">-</span><span class="n">router</span><span class="p">)</span><span class="c1"># metric weights tos k1 k2 k3 k4 k5</span>

<span class="n">R</span><span class="c1"># show ipv6 eigrp neighbors</span>
<span class="n">R</span><span class="c1"># show ip eigrp topology 10.1.1.0 255.255.255.0</span>
<span class="n">R</span><span class="c1"># show ip route 10.1.1.0</span>

<span class="n">R</span><span class="c1"># show ip eigrp traffic</span>

<span class="n">use</span> <span class="n">the</span> <span class="n">show</span> <span class="n">ip</span> <span class="n">eigrp</span> <span class="n">interfaces</span> <span class="n">detail</span> <span class="n">command</span> <span class="n">to</span> <span class="n">view</span> <span class="n">the</span> <span class="n">hello</span> <span class="n">interval</span> <span class="ow">and</span> <span class="n">hold</span> <span class="n">timer</span> <span class="k">for</span> <span class="n">EIGRP</span><span class="o">.</span>

<span class="n">R2</span><span class="c1"># show ip eigrp interfaces detail</span>
</pre></div>
</div>
<img alt="../../../_images/6_eigrp_troubleshooting.png" src="../../../_images/6_eigrp_troubleshooting.png" />
<dl class="docutils">
<dt>Some issues that may cause a connectivity problem for EIGRP include:</dt>
<dd>Proper networks are not being advertised on remote routers.
An incorrectly-configured passive interface, or an ACL, is blocking advertisements of remote networks.
Automatic summarization is causing inconsistent routing in a discontiguous network.</dd>
</dl>
</div>
<div class="section" id="default-router-config-example">
<h2>default router config example<a class="headerlink" href="#default-router-config-example" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span>conf t
service password-encryption
hostname R1
enable secret class
no ip domain lookup
ipv6 unicast-routing
interface GigabitEthernet0/0
 ip address 192.168.1.1 255.255.255.0
 duplex auto
 speed auto
 ipv6 address FE80::1 link-local
 ipv6 address 2001:DB8:ACAD:A::1/64
 ipv6 eigrp 1
 no shutdown
interface Serial0/0/0
 bandwidth 128
 ip address 192.168.21.1 255.255.255.252
 ipv6 address FE80::1 link-local
 ipv6 address 2001:DB8:ACAD:12::1/64
 ipv6 eigrp 1
 clock rate 128000
 no shutdown
interface Serial0/0/1
 ip address 192.168.13.1 255.255.255.252
 ipv6 address FE80::1 link-local
 ipv6 address 2001:DB8:ACAD:31::1/64
 ipv6 eigrp 1
 no shutdown
router eigrp 1
 network 192.168.1.0
 network 192.168.12.0 0.0.0.3
 network 192.168.13.0 0.0.0.3
 passive-interface GigabitEthernet0/0
 eigrp router-id 1.1.1.1
ipv6 router eigrp 1
 passive-interface GigabitEthernet0/0
 no shutdown
banner motd @
 Unauthorized Access is Prohibited! @
line con 0
 password cisco
 login
 logging synchronous
line vty 0 4
 password cisco
 login
 transport input all
end
</pre></div>
</div>
</div>
<div class="section" id="quiz">
<h2>Quiz<a class="headerlink" href="#quiz" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Which multicast address does an EIGRP-enabled router use to send query packets?</p>
<ul class="simple">
<li>224.0.0.10   V</li>
<li>224.0.0.9</li>
<li>224.0.0.12</li>
<li>224.0.0.5</li>
</ul>
</li>
<li><p class="first">Which protocol number is used to indicate that an EIGRP packet is encapsulated in an IP packet?</p>
<ul class="simple">
<li>6</li>
<li>17</li>
<li>88  V</li>
<li>89</li>
</ul>
</li>
<li><p class="first">Match the types of EIGRP routes to the correct default administrative distances. (Not all options are used.)
{110,90,5,170}</p>
<ul class="simple">
<li>summary  5</li>
<li>internal 90</li>
<li>external 170</li>
</ul>
</li>
<li><p class="first">What operational feature is different for EIGRP for IPv6 compared to EIGRP for IPv4?</p>
<ul class="simple">
<li>DUAL algorithm calculations</li>
<li>the type of value used for the Router ID</li>
<li>neighbor discovery mechanisms</li>
<li>the source and destination addresses used within the EIGRP messages V</li>
</ul>
</li>
<li><p class="first">A network admin is verifying the EIGRP configuration. What conclusion can be drawn?</p>
<img alt="../../../_images/6_eigrp_quiz1.png" src="../../../_images/6_eigrp_quiz1.png" />
<ul class="simple">
<li>Subnetted networks are included in route updates   V</li>
<li>Metric weight values have been changed from their default values</li>
<li>There are 90 internal networks and 170 external networks in the routing table</li>
<li>Up to 4 paths to the same destination with different costs can be included in the routing table</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The entry “Automatic network summarization is not in effect” indicates that the command no auto-summary is entered, which means subnetted networks (from a major network) are included in route updates. The metric values keep the default values. The numbers 90 and 170 indicate the administrative distances. The routing table can contain up to 4 equal cost paths to a destination network because the maximum metric variance parameter is 1.</p>
</div>
</li>
<li><p class="first">Which bandwidth value is used when calculating the EIGRP metric of a route?</p>
<ul class="simple">
<li>the fastest bandwidth of all interfaces on the router</li>
<li>the slowest bandwidth of all interfaces on the router</li>
<li>the fastest bandwidth of all outgoing interfaces between the source and destination</li>
<li>the slowest bandwidth of all outgoing interfaces between the source and destination  V</li>
</ul>
</li>
<li><p class="first">Which two protocols are allowed to be routed by EIGRP as a consequence of the PDM feature? (Choose two.)</p>
<ul class="simple">
<li>IPv4 V</li>
<li>TCP</li>
<li>IPv6 V</li>
<li>UDP</li>
<li>RTP</li>
</ul>
</li>
<li><p class="first">Which destination address is used by EIGRP for IPv6 messages?</p>
<ul class="simple">
<li>the all-EIGRP-routers multicast address         V</li>
<li>the IPv6 global unicast address of the neighbor</li>
<li>the 32-bit router ID of the neighbor</li>
<li>the unique local IPv6 address of the neighbor</li>
</ul>
</li>
<li><p class="first">Which address will EIGRP for IPv6 use as the router ID?</p>
<ul class="simple">
<li>the highest link-local address that is configured on any enabled interface</li>
<li>the highest interface MAC address</li>
<li>the highest IPv4 address that is configured on any enabled interface V</li>
<li>the highest IPv6 address that is configured on any enabled interface</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">EIGRP for IPv6 uses the same router ID as EIGRP for IPv4 uses. The 32-bit number can be configured with the router-id command or automatically assigned from the highest IPv4 address on an enabled interface.</p>
</div>
</li>
<li><p class="first">In the command router eigrp 100, what does the value 100 represent?</p>
<ul class="simple">
<li>the autonomous system number  V</li>
<li>the router ID</li>
<li>the administrative distance</li>
<li>the metric</li>
</ul>
</li>
<li><p class="first">Which two values are included by default in the calculation of an EIGRP metric? (Choose two.)</p>
<ul class="simple">
<li>load</li>
<li>delay       V</li>
<li>reliability</li>
<li>bandwidth   V</li>
<li>hop count</li>
</ul>
</li>
<li><p class="first">What does the value 2816 represent in the output display?</p>
<img alt="../../../_images/6_eigrp_quiz2.png" src="../../../_images/6_eigrp_quiz2.png" />
<ul class="simple">
<li>feasible distance</li>
<li>shortest distance</li>
<li>reported distance  V</li>
<li>administrative distance</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The value 2816 in (2170112/2816) is the “reported distance,” the metric of the neighbor router (192.168.1.6) to reach the destination network. The value 2170112 is the feasible metric cost to reach the destination network.</p>
</div>
</li>
<li><p class="first">What address and wild card mask can be used to enable EIGRP for only the subnet 192.168.100.192 255.255.255.192?</p>
<ul class="simple">
<li>192.168.100.192 0.0.0.7</li>
<li>192.168.100.192 0.0.0.15</li>
<li>192.168.100.192 0.0.0.63   V</li>
<li>192.168.100.192 0.0.0.127</li>
</ul>
</li>
<li><p class="first">What two conditions will result in an EIGRP route going into the active state? (Choose two.)</p>
<ul class="simple">
<li>One neighbor has not met the feasibility condition</li>
<li>The router is not sending queries</li>
<li>The successor is down    V</li>
<li>There is no feasible successor V</li>
<li>The network has been recalculated</li>
</ul>
</li>
<li><p class="first">Match the EIGRP packet type to the function. (Not all options are used.)</p>
<ol class="loweralpha simple">
<li>used to confirm the reliable delivery of a packet</li>
<li>used to form an EIGRP neighbor relationship</li>
<li>used to search for an alternate path</li>
<li>used to distribute routing information</li>
<li>used in response to an EIGRP-enabled router searching for a network</li>
</ol>
<ul class="simple">
<li>hello -&gt; b</li>
<li>update -&gt; d</li>
<li>acknowledgment -&gt; a</li>
<li>reply -&gt; e</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">EIGRP update packets are used to propagate routing information to other routers. EIGRP hello packets are used to form and maintain neighbor relationships between EIGRP-enabled routers. EIGRP acknowledgment packets are used when reliable delivery is used and a confirmation needs to be returned. EIGRP reply packets are used in response to a query packet, which searches for a route to a specific destination network.</p>
</div>
</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ospf.html" class="btn btn-neutral float-right" title="OSPF" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dynamic_routing.html" class="btn btn-neutral" title="Dynamic Routing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, patrick.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'a',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/js/custom.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>