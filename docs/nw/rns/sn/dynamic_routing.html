

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dynamic Routing &mdash; docu patrick a documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="EIGRP" href="eigrp.html" />
    <link rel="prev" title="Etherchannel - Hot Standby Routing Protocol" href="la_hsrp.html" />
    <link href="../../../_static/mylayout.css" rel="stylesheet" type="text/css">

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> docu patrick
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../diagrams.html">Diagrams in Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cumulocity.html">cumulocity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../server.html">debian server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workstation.html">workstation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vim.html">VIM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../git.html">GIT</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../inhoud.html">Routing/Switching</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../basics/inhoud.html">basics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="inhoud.html">scaling networks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lan_design.html">LAN design</a></li>
<li class="toctree-l3"><a class="reference internal" href="scaling_vlans.html">Scaling VLANs</a></li>
<li class="toctree-l3"><a class="reference internal" href="stp.html">Spanning Tree Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="la_hsrp.html">Etherchannel - Hot Standby Routing Protocol</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Dynamic Routing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#distance-vector-vs-link-state">Distance Vector vs Link State</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-the-spf-tree">Building the SPF_Tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="#advantages-of-link-state-routing-protocols">Advantages of link-state routing protocols</a></li>
<li class="toctree-l4"><a class="reference internal" href="#disadvantages-of-link-state-protocols">Disadvantages of Link-State Protocols</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="eigrp.html">EIGRP</a></li>
<li class="toctree-l3"><a class="reference internal" href="ospf.html">OSPF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sdn/inhoud.html">Open Daylight</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">docu patrick</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../inhoud.html">Routing/Switching</a> &raquo;</li>
        
          <li><a href="inhoud.html">scaling networks</a> &raquo;</li>
        
      <li>Dynamic Routing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/nw/rns/sn/dynamic_routing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dynamic-routing">
<h1>Dynamic Routing<a class="headerlink" href="#dynamic-routing" title="Permalink to this headline">¶</a></h1>
<p>Only RIPv1 and IGRP are classful.
The fact that RIPv1 and IGRP do not include subnet mask information in their updates means that they cannot provide variable-length subnet masks (VLSMs) and classless interdomain routing (CIDR)</p>
<p>Classful routing protocols also create problems in discontiguous networks. A discontiguous network is when subnets from the same classful major network address are separated by a different classful network address.</p>
<div class="section" id="distance-vector-vs-link-state">
<h2>Distance Vector vs Link State<a class="headerlink" href="#distance-vector-vs-link-state" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="12%" />
<col width="11%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">RIPv1</th>
<th class="head">RIPv2</th>
<th class="head">IGRP</th>
<th class="head">EIGRP</th>
<th class="head">OSPF</th>
<th class="head">IS-IS</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Speed of Convergence</td>
<td>Slow</td>
<td>Slow</td>
<td>Slow</td>
<td>Fast</td>
<td>Fast</td>
<td>Fast</td>
</tr>
<tr class="row-odd"><td>Scalability - Size of NW</td>
<td>Small</td>
<td>Small</td>
<td>Small</td>
<td>Large</td>
<td>Large</td>
<td>Large</td>
</tr>
<tr class="row-even"><td>Use of VLSM</td>
<td>No</td>
<td>[Yes]</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Resource Usage</td>
<td>Low</td>
<td>Low</td>
<td>Low</td>
<td>[Medium]</td>
<td>High</td>
<td>High</td>
</tr>
<tr class="row-even"><td>Implementation n Maintenance</td>
<td>Simple</td>
<td>Simple</td>
<td>Simple</td>
<td>Complex</td>
<td>Complex</td>
<td>Complex</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Metric is based on:</dt>
<dd><ul class="first last simple">
<li>Routing Information Protocol (RIP) - Hop count</li>
<li>Open Shortest Path First (OSPF) - Cisco’s cost based on cumulative bandwidth from source to destination</li>
<li>Enhanced Interior Gateway Routing Protocol (EIGRP) – Minimum bandwidth, delay, load, and reliability.</li>
</ul>
</dd>
</dl>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span><span class="c1"># debug ip rip</span>
<span class="n">R2</span><span class="c1"># debug ip routing</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Distance vector routing protocols share updates between neighbors. Neighbors are routers that share a link and are configured to use the same routing protocol. The router is only aware of the network addresses of its own interfaces and the remote network addresses it can reach through its neighbors. Routers using distance vector routing are not aware of the network topology.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Instead of using broadcasts like RIP, RIPv2 and EIGRP can use <code class="docutils literal notranslate"><span class="pre">multicast</span></code> addresses to reach only specific neighbor routers. EIGRP can also use a <code class="docutils literal notranslate"><span class="pre">unicast</span></code> message to reach one specific neighbor router. Additionally, EIGRP only sends updates when needed, instead of periodically.</p>
</div>
<p>RIP uses the Bellman-Ford algorithm
IGRP and EIGRP use the Diffusing Update Algorithm (DUAL) routing algorithm
Link-state routing protocols are also known as shortest path first protocols and are built around Edsger Dijkstra’s shortest path first (SPF) algorithm</p>
<p>RFC’s for routing protocols</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="14%" />
<col width="11%" />
<col width="6%" />
<col width="6%" />
<col width="11%" />
<col width="6%" />
<col width="6%" />
<col width="15%" />
<col width="16%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">protocol</th>
<th class="head">rfc</th>
<th class="head">metric</th>
<th class="head">port</th>
<th class="head">type</th>
<th class="head">address</th>
<th class="head">type</th>
<th class="head">VLSM</th>
<th class="head">summarization</th>
<th class="head">authentication</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>RIP</td>
<td><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">rfc:</th><td class="field-body"><cite>1058</cite></td>
</tr>
</tbody>
</table>
</td>
<td>hop count</td>
<td>520</td>
<td>udp</td>
<td>224.0.0.9</td>
<td>bx</td>
<td>no</td>
<td>no</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>RIPv2</td>
<td><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">rfc:</th><td class="field-body"><cite>2453</cite></td>
</tr>
</tbody>
</table>
</td>
<td>hop count</td>
<td>520</td>
<td>udp</td>
<td>224.0.0.9</td>
<td>mc</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
</tbody>
</table>
<p>BDLR | BW | Delay | Load | Reliability |</p>
<p>AD  120
metric          15 hops                 15 hops
updates         255.255.255.255         224.0.0.9                       224.0.0.10 90 seconds
VLSM            X                       V
CIDR            X                       V
Summarization   X                       V
Authentication  X                       V</p>
<p>for more info on RIPv2 see
:rfc: <cite>2453</cite>
or view &lt;<a class="reference external" href="https://www.rfc-editor.org/rfc/rfc2453.txt">https://www.rfc-editor.org/rfc/rfc2453.txt</a>&gt; for full info</p>
<p>EIGRP</p>
<blockquote>
<div><p>Bounded triggered updates - Only routing table changes are propagated, whenever a change occurs. Bounded triggered updates means that EIGRP only sends to the neighbors that need it.</p>
<p>Hello keepalive mechanism - A small Hello message is periodically exchanged to maintain adjacencies with neighboring routers.</p>
<p>Maintains a topology table - Maintains all the routes received from neighbors (not only the best paths) in a topology table. DUAL can insert backup routes into the EIGRP topology table.</p>
<p>Rapid convergence - In most cases, it is the fastest IGP to converge because it maintains ALTERNATE routes, enabling almost instantaneous convergence. If a primary route fails, the router can use the already identified alternate route. The switchover to the alternate route is immediate and does not involve interaction with other routers.</p>
<p>Multiple network layer protocol support - EIGRP uses Protocol Dependent Modules (PDM), which means that it is the only protocol to include support for protocols other than IPv4 and IPv6</p>
</div></blockquote>
<p>Set the administrative distance for RIPv2. This forces RA to choose RIP routes over EIGRP routes</p>
<blockquote>
<div>RA(config)# router rip
RA(config-router)# distance 89</div></blockquote>
<p>Link-State Routing Process (process OSPF IPv4 = IPv6)</p>
<blockquote>
<div>Each router learns about each of its own directly connected networks
Each router is responsible for “saying hello” to its neighbors on directly connected networks
Each router builds a Link-State Packet (LSP) containing the state of each directly connected link
Each router floods the LSP to all neighbors who then store all LSP’s received in a database
Each router uses the database to construct a complete map of the topology and computes the best path to each destination network</div></blockquote>
<p>Link and Link-State</p>
<blockquote>
<div><p>IF must have IPv4 address n SM. must me up and IF must be included in one of the network router config statements</p>
<blockquote>
<div>The interface’s IPv4 address and subnet mask
The type of network, such as Ethernet (broadcast) or Serial point-to-point link
The cost of that link
Any neighbor routers on that link</div></blockquote>
</div></blockquote>
<p>Cisco’s implementation of OSPF specifies the OSPF routing metric as the cost of the link based on the bandwidth of the outgoing interface</p>
<p>When two link-state routers learn that they are neighbors, they form an adjacency.
These small Hello packets continue to be exchanged between two adjacent neighbors and serve as a keepalive function to monitor the state of the neighbor.
If a router stops receiving Hello packets from a neighbor, that neighbor is considered unreachable and the adjacency is broken.</p>
<p>Each router floods its link-state information to all other link-state routers in the routing area. Whenever a router receives an LSP from a neighboring router, it immediately sends that LSP out all other interfaces except the interface that received the LSP. This process creates a flooding effect of LSPs from all routers throughout the routing area</p>
<p>Link-state routing protocols calculate the SPF algorithm after the flooding is complete. As a result, link-state routing protocols reach convergence very quickly</p>
<p>sequence numbers and aging information, to help manage the flooding process. This information is used by each router to determine if it has already received the LSP from another router or if the LSP has newer information</p>
<p>With a complete link-state database, R1 can now use the database and the shortest path first (SPF) algorithm to calculate the preferred path or shortest path to each network resulting in the SPF tree.</p>
</div>
<div class="section" id="building-the-spf-tree">
<h2>Building the SPF_Tree<a class="headerlink" href="#building-the-spf-tree" title="Permalink to this headline">¶</a></h2>
<p>Each router constructs its own SPF tree independently from all other routers. To ensure proper routing, the link-state databases used to construct those trees must be identical on all routers.</p>
</div>
<div class="section" id="advantages-of-link-state-routing-protocols">
<h2>Advantages of link-state routing protocols<a class="headerlink" href="#advantages-of-link-state-routing-protocols" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt>Builds a Topological Map</dt>
<dd>Link-state routing protocols create a topological map, or SPF tree, of the network topology.
Because link-state routing protocols exchange link-states, the SPF algorithm can build an SPF tree of the network.
Using the SPF tree, each router can independently determine the shortest path to every network.</dd>
<dt>Fast Convergence</dt>
<dd>When receiving an LSP, link-state routing protocols immediately flood the LSP out all interfaces except for the interface from which the LSP was received.
In contrast, RIP needs to process each routing update and update its routing table before flooding them out other interfaces.</dd>
<dt>Event-driven Updates</dt>
<dd>After the initial flooding of LSPs, link-state routing protocols only send out an LSP when there is a change in the topology.
The LSP contains only the information regarding the affected link. Unlike some distance vector routing protocols, link-state routing protocols do not send periodic updates.</dd>
<dt>Hierarchical Design</dt>
<dd>Link-state routing protocols use the concept of areas.
Multiple areas create a hierarchical design to networks, allowing for better route aggregation (summarization) and the isolation of routing issues within an area.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="disadvantages-of-link-state-protocols">
<h2>Disadvantages of Link-State Protocols<a class="headerlink" href="#disadvantages-of-link-state-protocols" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>additional memory to create and maintain the LS database and SPF tree
more CPU for SPF algorithm because LS Protocols build a complete topology map
can use a lot of BW during initial startup</div></blockquote>
<p>The use and configuration of multiple areas can reduce the size of the link-state databases. Multiple areas can limit the amount of link-state information flooding in a routing domain and send LSPs only to those routers that need them. When there is a change in the topology, only those routers in the affected area receive the LSP and run the SPF algorithm. This can help isolate an unstable link to a specific area in the routing domain.</p>
<p>Only those routers in area 51 need to update their link-state databases, rerun the SPF algorithm, create a new SPF tree, and update their routing tables. Routers in other areas learn that this route is down, but this is done with a type of LSP that does not cause them to rerun their SPF algorithm. Routers in other areas can update their routing tables directly.</p>
<p>reset the adjacencies and use the new router ID
R1(config-t)# clear ip ospf process</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="eigrp.html" class="btn btn-neutral float-right" title="EIGRP" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="la_hsrp.html" class="btn btn-neutral" title="Etherchannel - Hot Standby Routing Protocol" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, patrick.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'a',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/js/custom.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>